(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Fi(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const ne={},an=[],Me=()=>{},Yd=()=>!1,ls=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$i=t=>t.startsWith("onUpdate:"),he=Object.assign,Vi=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Qd=Object.prototype.hasOwnProperty,q=(t,e)=>Qd.call(t,e),F=Array.isArray,cn=t=>tr(t)==="[object Map]",Ja=t=>tr(t)==="[object Set]",Yo=t=>tr(t)==="[object Date]",V=t=>typeof t=="function",ce=t=>typeof t=="string",nt=t=>typeof t=="symbol",te=t=>t!==null&&typeof t=="object",Xa=t=>(te(t)||V(t))&&V(t.then)&&V(t.catch),ec=Object.prototype.toString,tr=t=>ec.call(t),Kd=t=>tr(t).slice(8,-1),tc=t=>tr(t)==="[object Object]",zi=t=>ce(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,In=Fi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),as=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Zd=/-(\w)/g,pn=as(t=>t.replace(Zd,(e,n)=>n?n.toUpperCase():"")),Jd=/\B([A-Z])/g,En=as(t=>t.replace(Jd,"-$1").toLowerCase()),nc=as(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ts=as(t=>t?`on${nc(t)}`:""),_t=(t,e)=>!Object.is(t,e),Or=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},rc=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},li=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Qo;const sc=()=>Qo||(Qo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wi(t){if(F(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ce(r)?nf(r):Wi(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ce(t)||te(t))return t}const Xd=/;(?![^(]*\))/g,ef=/:([^]+)/,tf=/\/\*[^]*?\*\//g;function nf(t){const e={};return t.replace(tf,"").split(Xd).forEach(n=>{if(n){const r=n.split(ef);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Gi(t){let e="";if(ce(t))e=t;else if(F(t))for(let n=0;n<t.length;n++){const r=Gi(t[n]);r&&(e+=r+" ")}else if(te(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const rf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sf=Fi(rf);function ic(t){return!!t||t===""}function of(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Fr(t[r],e[r]);return n}function Fr(t,e){if(t===e)return!0;let n=Yo(t),r=Yo(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=nt(t),r=nt(e),n||r)return t===e;if(n=F(t),r=F(e),n||r)return n&&r?of(t,e):!1;if(n=te(t),r=te(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),a=e.hasOwnProperty(o);if(l&&!a||!l&&a||!Fr(t[o],e[o]))return!1}}return String(t)===String(e)}const et=t=>ce(t)?t:t==null?"":F(t)||te(t)&&(t.toString===ec||!V(t.toString))?JSON.stringify(t,oc,2):String(t),oc=(t,e)=>e&&e.__v_isRef?oc(t,e.value):cn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[ks(r,i)+" =>"]=s,n),{})}:Ja(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ks(n))}:nt(e)?ks(e):te(e)&&!F(e)&&!tc(e)?String(e):e,ks=(t,e="")=>{var n;return nt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Le;class lc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Le,!e&&Le&&(this.index=(Le.scopes||(Le.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Le;try{return Le=this,e()}finally{Le=n}}}on(){Le=this}off(){Le=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function lf(t){return new lc(t)}function af(t,e=Le){e&&e.active&&e.effects.push(t)}function cf(){return Le}let $t;class qi{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,af(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,At();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(uf(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),St()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=vt,n=$t;try{return vt=!0,$t=this,this._runnings++,Ko(this),this.fn()}finally{Zo(this),this._runnings--,$t=n,vt=e}}stop(){this.active&&(Ko(this),Zo(this),this.onStop&&this.onStop(),this.active=!1)}}function uf(t){return t.value}function Ko(t){t._trackId++,t._depsLength=0}function Zo(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)ac(t.deps[e],t);t.deps.length=t._depsLength}}function ac(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let vt=!0,ai=0;const cc=[];function At(){cc.push(vt),vt=!1}function St(){const t=cc.pop();vt=t===void 0?!0:t}function Yi(){ai++}function Qi(){for(ai--;!ai&&ci.length;)ci.shift()()}function uc(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&ac(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const ci=[];function dc(t,e,n){Yi();for(const r of t.keys()){let s;r._dirtyLevel<e&&(s??(s=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(s??(s=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&ci.push(r.scheduler)))}Qi()}const fc=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},ui=new WeakMap,Vt=Symbol(""),di=Symbol("");function Ce(t,e,n){if(vt&&$t){let r=ui.get(t);r||ui.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=fc(()=>r.delete(n))),uc($t,s)}}function tt(t,e,n,r,s,i){const o=ui.get(t);if(!o)return;let l=[];if(e==="clear")l=[...o.values()];else if(n==="length"&&F(t)){const a=Number(r);o.forEach((u,c)=>{(c==="length"||!nt(c)&&c>=a)&&l.push(u)})}else switch(n!==void 0&&l.push(o.get(n)),e){case"add":F(t)?zi(n)&&l.push(o.get("length")):(l.push(o.get(Vt)),cn(t)&&l.push(o.get(di)));break;case"delete":F(t)||(l.push(o.get(Vt)),cn(t)&&l.push(o.get(di)));break;case"set":cn(t)&&l.push(o.get(Vt));break}Yi();for(const a of l)a&&dc(a,4);Qi()}const df=Fi("__proto__,__v_isRef,__isVue"),hc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(nt)),Jo=ff();function ff(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=K(this);for(let i=0,o=this.length;i<o;i++)Ce(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(K)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){At(),Yi();const r=K(this)[e].apply(this,n);return Qi(),St(),r}}),t}function hf(t){nt(t)||(t=String(t));const e=K(this);return Ce(e,"has",t),e.hasOwnProperty(t)}class gc{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Df:yc:i?vc:mc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=F(e);if(!s){if(o&&q(Jo,n))return Reflect.get(Jo,n,r);if(n==="hasOwnProperty")return hf}const l=Reflect.get(e,n,r);return(nt(n)?hc.has(n):df(n))||(s||Ce(e,"get",n),i)?l:De(l)?o&&zi(n)?l:l.value:te(l)?s?bc(l):Ji(l):l}}class pc extends gc{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const a=Wn(i);if(!$r(r)&&!Wn(r)&&(i=K(i),r=K(r)),!F(e)&&De(i)&&!De(r))return a?!1:(i.value=r,!0)}const o=F(e)&&zi(n)?Number(n)<e.length:q(e,n),l=Reflect.set(e,n,r,s);return e===K(s)&&(o?_t(r,i)&&tt(e,"set",n,r):tt(e,"add",n,r)),l}deleteProperty(e,n){const r=q(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&tt(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!nt(n)||!hc.has(n))&&Ce(e,"has",n),r}ownKeys(e){return Ce(e,"iterate",F(e)?"length":Vt),Reflect.ownKeys(e)}}class gf extends gc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const pf=new pc,mf=new gf,vf=new pc(!0);const Ki=t=>t,cs=t=>Reflect.getPrototypeOf(t);function fr(t,e,n=!1,r=!1){t=t.__v_raw;const s=K(t),i=K(e);n||(_t(e,i)&&Ce(s,"get",e),Ce(s,"get",i));const{has:o}=cs(s),l=r?Ki:n?eo:Gn;if(o.call(s,e))return l(t.get(e));if(o.call(s,i))return l(t.get(i));t!==s&&t.get(e)}function hr(t,e=!1){const n=this.__v_raw,r=K(n),s=K(t);return e||(_t(t,s)&&Ce(r,"has",t),Ce(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function gr(t,e=!1){return t=t.__v_raw,!e&&Ce(K(t),"iterate",Vt),Reflect.get(t,"size",t)}function Xo(t){t=K(t);const e=K(this);return cs(e).has.call(e,t)||(e.add(t),tt(e,"add",t,t)),this}function el(t,e){e=K(e);const n=K(this),{has:r,get:s}=cs(n);let i=r.call(n,t);i||(t=K(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?_t(e,o)&&tt(n,"set",t,e):tt(n,"add",t,e),this}function tl(t){const e=K(this),{has:n,get:r}=cs(e);let s=n.call(e,t);s||(t=K(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&tt(e,"delete",t,void 0),i}function nl(){const t=K(this),e=t.size!==0,n=t.clear();return e&&tt(t,"clear",void 0,void 0),n}function pr(t,e){return function(r,s){const i=this,o=i.__v_raw,l=K(o),a=e?Ki:t?eo:Gn;return!t&&Ce(l,"iterate",Vt),o.forEach((u,c)=>r.call(s,a(u),a(c),i))}}function mr(t,e,n){return function(...r){const s=this.__v_raw,i=K(s),o=cn(i),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,u=s[t](...r),c=n?Ki:e?eo:Gn;return!e&&Ce(i,"iterate",a?di:Vt),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:l?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function lt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function yf(){const t={get(i){return fr(this,i)},get size(){return gr(this)},has:hr,add:Xo,set:el,delete:tl,clear:nl,forEach:pr(!1,!1)},e={get(i){return fr(this,i,!1,!0)},get size(){return gr(this)},has:hr,add:Xo,set:el,delete:tl,clear:nl,forEach:pr(!1,!0)},n={get(i){return fr(this,i,!0)},get size(){return gr(this,!0)},has(i){return hr.call(this,i,!0)},add:lt("add"),set:lt("set"),delete:lt("delete"),clear:lt("clear"),forEach:pr(!0,!1)},r={get(i){return fr(this,i,!0,!0)},get size(){return gr(this,!0)},has(i){return hr.call(this,i,!0)},add:lt("add"),set:lt("set"),delete:lt("delete"),clear:lt("clear"),forEach:pr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=mr(i,!1,!1),n[i]=mr(i,!0,!1),e[i]=mr(i,!1,!0),r[i]=mr(i,!0,!0)}),[t,n,e,r]}const[bf,_f,wf,Ef]=yf();function Zi(t,e){const n=e?t?Ef:wf:t?_f:bf;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(q(n,s)&&s in r?n:r,s,i)}const Af={get:Zi(!1,!1)},Sf={get:Zi(!1,!0)},Cf={get:Zi(!0,!1)};const mc=new WeakMap,vc=new WeakMap,yc=new WeakMap,Df=new WeakMap;function Rf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tf(t){return t.__v_skip||!Object.isExtensible(t)?0:Rf(Kd(t))}function Ji(t){return Wn(t)?t:Xi(t,!1,pf,Af,mc)}function kf(t){return Xi(t,!1,vf,Sf,vc)}function bc(t){return Xi(t,!0,mf,Cf,yc)}function Xi(t,e,n,r,s){if(!te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Tf(t);if(o===0)return t;const l=new Proxy(t,o===2?r:n);return s.set(t,l),l}function Mn(t){return Wn(t)?Mn(t.__v_raw):!!(t&&t.__v_isReactive)}function Wn(t){return!!(t&&t.__v_isReadonly)}function $r(t){return!!(t&&t.__v_isShallow)}function _c(t){return t?!!t.__v_raw:!1}function K(t){const e=t&&t.__v_raw;return e?K(e):t}function wc(t){return Object.isExtensible(t)&&rc(t,"__v_skip",!0),t}const Gn=t=>te(t)?Ji(t):t,eo=t=>te(t)?bc(t):t;class Ec{constructor(e,n,r,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new qi(()=>e(this._value),()=>xr(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=K(this);return(!e._cacheable||e.effect.dirty)&&_t(e._value,e._value=e.effect.run())&&xr(e,4),Ac(e),e.effect._dirtyLevel>=2&&xr(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Of(t,e,n=!1){let r,s;const i=V(t);return i?(r=t,s=Me):(r=t.get,s=t.set),new Ec(r,s,i||!s,n)}function Ac(t){var e;vt&&$t&&(t=K(t),uc($t,(e=t.dep)!=null?e:t.dep=fc(()=>t.dep=void 0,t instanceof Ec?t:void 0)))}function xr(t,e=4,n){t=K(t);const r=t.dep;r&&dc(r,e)}function De(t){return!!(t&&t.__v_isRef===!0)}function qe(t){return xf(t,!1)}function xf(t,e){return De(t)?t:new If(t,e)}class If{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:K(e),this._value=n?e:Gn(e)}get value(){return Ac(this),this._value}set value(e){const n=this.__v_isShallow||$r(e)||Wn(e);e=n?e:K(e),_t(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Gn(e),xr(this,4))}}function Sc(t){return De(t)?t.value:t}const Mf={get:(t,e,n)=>Sc(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return De(s)&&!De(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Cc(t){return Mn(t)?t:new Proxy(t,Mf)}/**
* @vue/runtime-core v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yt(t,e,n,r){try{return r?t(...r):t()}catch(s){us(s,e,n)}}function Be(t,e,n,r){if(V(t)){const s=yt(t,e,n,r);return s&&Xa(s)&&s.catch(i=>{us(i,e,n)}),s}if(F(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Be(t[i],e,n,r));return s}}function us(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,l)===!1)return}i=i.parent}const a=e.appContext.config.errorHandler;if(a){At(),yt(a,null,10,[t,o,l]),St();return}}Pf(t,n,s,r)}function Pf(t,e,n,r=!0){console.error(t)}let qn=!1,fi=!1;const me=[];let Ke=0;const un=[];let ct=null,jt=0;const Dc=Promise.resolve();let to=null;function Nf(t){const e=to||Dc;return t?e.then(this?t.bind(this):t):e}function jf(t){let e=Ke+1,n=me.length;for(;e<n;){const r=e+n>>>1,s=me[r],i=Yn(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function no(t){(!me.length||!me.includes(t,qn&&t.allowRecurse?Ke+1:Ke))&&(t.id==null?me.push(t):me.splice(jf(t.id),0,t),Rc())}function Rc(){!qn&&!fi&&(fi=!0,to=Dc.then(kc))}function Lf(t){const e=me.indexOf(t);e>Ke&&me.splice(e,1)}function Hf(t){F(t)?un.push(...t):(!ct||!ct.includes(t,t.allowRecurse?jt+1:jt))&&un.push(t),Rc()}function rl(t,e,n=qn?Ke+1:0){for(;n<me.length;n++){const r=me[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;me.splice(n,1),n--,r()}}}function Tc(t){if(un.length){const e=[...new Set(un)].sort((n,r)=>Yn(n)-Yn(r));if(un.length=0,ct){ct.push(...e);return}for(ct=e,jt=0;jt<ct.length;jt++)ct[jt]();ct=null,jt=0}}const Yn=t=>t.id==null?1/0:t.id,Uf=(t,e)=>{const n=Yn(t)-Yn(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function kc(t){fi=!1,qn=!0,me.sort(Uf);try{for(Ke=0;Ke<me.length;Ke++){const e=me[Ke];e&&e.active!==!1&&yt(e,null,14)}}finally{Ke=0,me.length=0,Tc(),qn=!1,to=null,(me.length||un.length)&&kc()}}function Bf(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ne;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[c]||ne;f&&(s=n.map(h=>ce(h)?h.trim():h)),d&&(s=n.map(li))}let l,a=r[l=Ts(e)]||r[l=Ts(pn(e))];!a&&i&&(a=r[l=Ts(En(e))]),a&&Be(a,t,6,s);const u=r[l+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Be(u,t,6,s)}}function Oc(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!V(t)){const a=u=>{const c=Oc(u,e,!0);c&&(l=!0,he(o,c))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!i&&!l?(te(t)&&r.set(t,null),null):(F(i)?i.forEach(a=>o[a]=null):he(o,i),te(t)&&r.set(t,o),o)}function ds(t,e){return!t||!ls(e)?!1:(e=e.slice(2).replace(/Once$/,""),q(t,e[0].toLowerCase()+e.slice(1))||q(t,En(e))||q(t,e))}let ke=null,xc=null;function Vr(t){const e=ke;return ke=t,xc=t&&t.type.__scopeId||null,e}function Ff(t,e=ke,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&pl(-1);const i=Vr(e);let o;try{o=t(...s)}finally{Vr(i),r._d&&pl(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Os(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:a,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:m,inheritAttrs:v}=t,y=Vr(t);let w,D;try{if(n.shapeFlag&4){const O=s||r,j=O;w=Ye(u.call(j,O,c,d,h,f,m)),D=l}else{const O=e;w=Ye(O.length>1?O(d,{attrs:l,slots:o,emit:a}):O(d,null)),D=e.props?l:$f(l)}}catch(O){Ln.length=0,us(O,t,1),w=Ae(Wt)}let k=w;if(D&&v!==!1){const O=Object.keys(D),{shapeFlag:j}=k;O.length&&j&7&&(i&&O.some($i)&&(D=Vf(D,i)),k=mn(k,D,!1,!0))}return n.dirs&&(k=mn(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),w=k,Vr(y),w}const $f=t=>{let e;for(const n in t)(n==="class"||n==="style"||ls(n))&&((e||(e={}))[n]=t[n]);return e},Vf=(t,e)=>{const n={};for(const r in t)(!$i(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function zf(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:l,patchFlag:a}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?sl(r,o,u):!!o;if(a&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!ds(u,f))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?sl(r,o,u):!0:!!o;return!1}function sl(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!ds(n,i))return!0}return!1}function Wf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Gf=Symbol.for("v-ndc"),qf=t=>t.__isSuspense;function Yf(t,e){e&&e.pendingBranch?F(t)?e.effects.push(...t):e.effects.push(t):Hf(t)}const Qf=Symbol.for("v-scx"),Kf=()=>Mr(Qf),vr={};function xs(t,e,n){return Ic(t,e,n)}function Ic(t,e,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:l}=ne){if(e&&i){const I=e;e=(...H)=>{I(...H),j()}}const a=we,u=I=>r===!0?I:Bt(I,r===!1?1:void 0);let c,d=!1,f=!1;if(De(t)?(c=()=>t.value,d=$r(t)):Mn(t)?(c=()=>u(t),d=!0):F(t)?(f=!0,d=t.some(I=>Mn(I)||$r(I)),c=()=>t.map(I=>{if(De(I))return I.value;if(Mn(I))return u(I);if(V(I))return yt(I,a,2)})):V(t)?e?c=()=>yt(t,a,2):c=()=>(h&&h(),Be(t,a,3,[m])):c=Me,e&&r){const I=c;c=()=>Bt(I())}let h,m=I=>{h=k.onStop=()=>{yt(I,a,4),h=k.onStop=void 0}},v;if(gs)if(m=Me,e?n&&Be(e,a,3,[c(),f?[]:void 0,m]):c(),s==="sync"){const I=Kf();v=I.__watcherHandles||(I.__watcherHandles=[])}else return Me;let y=f?new Array(t.length).fill(vr):vr;const w=()=>{if(!(!k.active||!k.dirty))if(e){const I=k.run();(r||d||(f?I.some((H,N)=>_t(H,y[N])):_t(I,y)))&&(h&&h(),Be(e,a,3,[I,y===vr?void 0:f&&y[0]===vr?[]:y,m]),y=I)}else k.run()};w.allowRecurse=!!e;let D;s==="sync"?D=w:s==="post"?D=()=>Ee(w,a&&a.suspense):(w.pre=!0,a&&(w.id=a.uid),D=()=>no(w));const k=new qi(c,Me,D),O=cf(),j=()=>{k.stop(),O&&Vi(O.effects,k)};return e?n?w():y=k.run():s==="post"?Ee(k.run.bind(k),a&&a.suspense):k.run(),v&&v.push(j),j}function Zf(t,e,n){const r=this.proxy,s=ce(t)?t.includes(".")?Mc(r,t):()=>r[t]:t.bind(r,r);let i;V(e)?i=e:(i=e.handler,n=e);const o=nr(this),l=Ic(s,i.bind(r),n);return o(),l}function Mc(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Bt(t,e=1/0,n){if(e<=0||!te(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,De(t))Bt(t.value,e,n);else if(F(t))for(let r=0;r<t.length;r++)Bt(t[r],e,n);else if(Ja(t)||cn(t))t.forEach(r=>{Bt(r,e,n)});else if(tc(t))for(const r in t)Bt(t[r],e,n);return t}function Is(t,e){if(ke===null)return t;const n=ps(ke)||ke.proxy,r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,l,a=ne]=e[s];i&&(V(i)&&(i={mounted:i,updated:i}),i.deep&&Bt(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return t}function kt(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let a=l.dir[r];a&&(At(),Be(a,n,8,[t.el,l,t,e]),St())}}/*! #__NO_SIDE_EFFECTS__ */function Pc(t,e){return V(t)?he({name:t.name},e,{setup:t}):t}const Ir=t=>!!t.type.__asyncLoader,Nc=t=>t.type.__isKeepAlive;function Jf(t,e){jc(t,"a",e)}function Xf(t,e){jc(t,"da",e)}function jc(t,e,n=we){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(fs(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Nc(s.parent.vnode)&&eh(r,e,n,s),s=s.parent}}function eh(t,e,n,r){const s=fs(e,t,r,!0);Lc(()=>{Vi(r[e],s)},n)}function fs(t,e,n=we,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;At();const l=nr(n),a=Be(e,n,t,o);return l(),St(),a});return r?s.unshift(i):s.push(i),i}}const it=t=>(e,n=we)=>(!gs||t==="sp")&&fs(t,(...r)=>e(...r),n),th=it("bm"),nh=it("m"),rh=it("bu"),sh=it("u"),ih=it("bum"),Lc=it("um"),oh=it("sp"),lh=it("rtg"),ah=it("rtc");function ch(t,e=we){fs("ec",t,e)}function uh(t,e,n,r){let s;const i=n;if(F(t)||ce(t)){s=new Array(t.length);for(let o=0,l=t.length;o<l;o++)s[o]=e(t[o],o,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i)}else if(te(t))if(t[Symbol.iterator])s=Array.from(t,(o,l)=>e(o,l,void 0,i));else{const o=Object.keys(t);s=new Array(o.length);for(let l=0,a=o.length;l<a;l++){const u=o[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}const hi=t=>t?Jc(t)?ps(t)||t.proxy:hi(t.parent):null,Pn=he(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>hi(t.parent),$root:t=>hi(t.root),$emit:t=>t.emit,$options:t=>ro(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,no(t.update)}),$nextTick:t=>t.n||(t.n=Nf.bind(t.proxy)),$watch:t=>Zf.bind(t)}),Ms=(t,e)=>t!==ne&&!t.__isScriptSetup&&q(t,e),dh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:a}=t;let u;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Ms(r,e))return o[e]=1,r[e];if(s!==ne&&q(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&q(u,e))return o[e]=3,i[e];if(n!==ne&&q(n,e))return o[e]=4,n[e];gi&&(o[e]=0)}}const c=Pn[e];let d,f;if(c)return e==="$attrs"&&Ce(t.attrs,"get",""),c(t);if((d=l.__cssModules)&&(d=d[e]))return d;if(n!==ne&&q(n,e))return o[e]=4,n[e];if(f=a.config.globalProperties,q(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Ms(s,e)?(s[e]=n,!0):r!==ne&&q(r,e)?(r[e]=n,!0):q(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let l;return!!n[o]||t!==ne&&q(t,o)||Ms(e,o)||(l=i[0])&&q(l,o)||q(r,o)||q(Pn,o)||q(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:q(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function il(t){return F(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let gi=!0;function fh(t){const e=ro(t),n=t.proxy,r=t.ctx;gi=!1,e.beforeCreate&&ol(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:a,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:v,deactivated:y,beforeDestroy:w,beforeUnmount:D,destroyed:k,unmounted:O,render:j,renderTracked:I,renderTriggered:H,errorCaptured:N,serverPrefetch:ue,expose:ge,inheritAttrs:$e,components:ar,directives:cr,filters:Ds}=e;if(u&&hh(u,r,null),o)for(const oe in o){const X=o[oe];V(X)&&(r[oe]=X.bind(n))}if(s){const oe=s.call(n,n);te(oe)&&(t.data=Ji(oe))}if(gi=!0,i)for(const oe in i){const X=i[oe],Rt=V(X)?X.bind(n,n):V(X.get)?X.get.bind(n,n):Me,ur=!V(X)&&V(X.set)?X.set.bind(n):Me,Tt=wi({get:Rt,set:ur});Object.defineProperty(r,oe,{enumerable:!0,configurable:!0,get:()=>Tt.value,set:Ve=>Tt.value=Ve})}if(l)for(const oe in l)Hc(l[oe],r,n,oe);if(a){const oe=V(a)?a.call(n):a;Reflect.ownKeys(oe).forEach(X=>{bh(X,oe[X])})}c&&ol(c,t,"c");function be(oe,X){F(X)?X.forEach(Rt=>oe(Rt.bind(n))):X&&oe(X.bind(n))}if(be(th,d),be(nh,f),be(rh,h),be(sh,m),be(Jf,v),be(Xf,y),be(ch,N),be(ah,I),be(lh,H),be(ih,D),be(Lc,O),be(oh,ue),F(ge))if(ge.length){const oe=t.exposed||(t.exposed={});ge.forEach(X=>{Object.defineProperty(oe,X,{get:()=>n[X],set:Rt=>n[X]=Rt})})}else t.exposed||(t.exposed={});j&&t.render===Me&&(t.render=j),$e!=null&&(t.inheritAttrs=$e),ar&&(t.components=ar),cr&&(t.directives=cr)}function hh(t,e,n=Me){F(t)&&(t=pi(t));for(const r in t){const s=t[r];let i;te(s)?"default"in s?i=Mr(s.from||r,s.default,!0):i=Mr(s.from||r):i=Mr(s),De(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function ol(t,e,n){Be(F(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Hc(t,e,n,r){const s=r.includes(".")?Mc(n,r):()=>n[r];if(ce(t)){const i=e[t];V(i)&&xs(s,i)}else if(V(t))xs(s,t.bind(n));else if(te(t))if(F(t))t.forEach(i=>Hc(i,e,n,r));else{const i=V(t.handler)?t.handler.bind(n):e[t.handler];V(i)&&xs(s,i,t)}}function ro(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let a;return l?a=l:!s.length&&!n&&!r?a=e:(a={},s.length&&s.forEach(u=>zr(a,u,o,!0)),zr(a,e,o)),te(e)&&i.set(e,a),a}function zr(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&zr(t,i,n,!0),s&&s.forEach(o=>zr(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=gh[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const gh={data:ll,props:al,emits:al,methods:On,computed:On,beforeCreate:_e,created:_e,beforeMount:_e,mounted:_e,beforeUpdate:_e,updated:_e,beforeDestroy:_e,beforeUnmount:_e,destroyed:_e,unmounted:_e,activated:_e,deactivated:_e,errorCaptured:_e,serverPrefetch:_e,components:On,directives:On,watch:mh,provide:ll,inject:ph};function ll(t,e){return e?t?function(){return he(V(t)?t.call(this,this):t,V(e)?e.call(this,this):e)}:e:t}function ph(t,e){return On(pi(t),pi(e))}function pi(t){if(F(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function _e(t,e){return t?[...new Set([].concat(t,e))]:e}function On(t,e){return t?he(Object.create(null),t,e):e}function al(t,e){return t?F(t)&&F(e)?[...new Set([...t,...e])]:he(Object.create(null),il(t),il(e??{})):e}function mh(t,e){if(!t)return e;if(!e)return t;const n=he(Object.create(null),t);for(const r in e)n[r]=_e(t[r],e[r]);return n}function Uc(){return{app:null,config:{isNativeTag:Yd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vh=0;function yh(t,e){return function(r,s=null){V(r)||(r=he({},r)),s!=null&&!te(s)&&(s=null);const i=Uc(),o=new WeakSet;let l=!1;const a=i.app={_uid:vh++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Gh,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&V(u.install)?(o.add(u),u.install(a,...c)):V(u)&&(o.add(u),u(a,...c))),a},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),a},component(u,c){return c?(i.components[u]=c,a):i.components[u]},directive(u,c){return c?(i.directives[u]=c,a):i.directives[u]},mount(u,c,d){if(!l){const f=Ae(r,s);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(f,u):t(f,u,d),l=!0,a._container=u,u.__vue_app__=a,ps(f.component)||f.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(u,c){return i.provides[u]=c,a},runWithContext(u){const c=Nn;Nn=a;try{return u()}finally{Nn=c}}};return a}}let Nn=null;function bh(t,e){if(we){let n=we.provides;const r=we.parent&&we.parent.provides;r===n&&(n=we.provides=Object.create(r)),n[t]=e}}function Mr(t,e,n=!1){const r=we||ke;if(r||Nn){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Nn._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&V(e)?e.call(r&&r.proxy):e}}const Bc={},Fc=()=>Object.create(Bc),$c=t=>Object.getPrototypeOf(t)===Bc;function _h(t,e,n,r=!1){const s={},i=Fc();t.propsDefaults=Object.create(null),Vc(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:kf(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function wh(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=K(s),[a]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(ds(t.emitsOptions,f))continue;const h=e[f];if(a)if(q(i,f))h!==i[f]&&(i[f]=h,u=!0);else{const m=pn(f);s[m]=mi(a,l,m,h,t,!1)}else h!==i[f]&&(i[f]=h,u=!0)}}}else{Vc(t,e,s,i)&&(u=!0);let c;for(const d in l)(!e||!q(e,d)&&((c=En(d))===d||!q(e,c)))&&(a?n&&(n[d]!==void 0||n[c]!==void 0)&&(s[d]=mi(a,l,d,void 0,t,!0)):delete s[d]);if(i!==l)for(const d in i)(!e||!q(e,d))&&(delete i[d],u=!0)}u&&tt(t.attrs,"set","")}function Vc(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(In(a))continue;const u=e[a];let c;s&&q(s,c=pn(a))?!i||!i.includes(c)?n[c]=u:(l||(l={}))[c]=u:ds(t.emitsOptions,a)||(!(a in r)||u!==r[a])&&(r[a]=u,o=!0)}if(i){const a=K(n),u=l||ne;for(let c=0;c<i.length;c++){const d=i[c];n[d]=mi(s,a,d,u[d],t,!q(u,d))}}return o}function mi(t,e,n,r,s,i){const o=t[n];if(o!=null){const l=q(o,"default");if(l&&r===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&V(a)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const c=nr(s);r=u[n]=a.call(null,e),c()}}else r=a}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===En(n))&&(r=!0))}return r}function zc(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},l=[];let a=!1;if(!V(t)){const c=d=>{a=!0;const[f,h]=zc(d,e,!0);he(o,f),h&&l.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!a)return te(t)&&r.set(t,an),an;if(F(i))for(let c=0;c<i.length;c++){const d=pn(i[c]);cl(d)&&(o[d]=ne)}else if(i)for(const c in i){const d=pn(c);if(cl(d)){const f=i[c],h=o[d]=F(f)||V(f)?{type:f}:he({},f);if(h){const m=fl(Boolean,h.type),v=fl(String,h.type);h[0]=m>-1,h[1]=v<0||m<v,(m>-1||q(h,"default"))&&l.push(d)}}}const u=[o,l];return te(t)&&r.set(t,u),u}function cl(t){return t[0]!=="$"&&!In(t)}function ul(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function dl(t,e){return ul(t)===ul(e)}function fl(t,e){return F(e)?e.findIndex(n=>dl(n,t)):V(e)&&dl(e,t)?0:-1}const Wc=t=>t[0]==="_"||t==="$stable",so=t=>F(t)?t.map(Ye):[Ye(t)],Eh=(t,e,n)=>{if(e._n)return e;const r=Ff((...s)=>so(e(...s)),n);return r._c=!1,r},Gc=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Wc(s))continue;const i=t[s];if(V(i))e[s]=Eh(s,i,r);else if(i!=null){const o=so(i);e[s]=()=>o}}},qc=(t,e)=>{const n=so(e);t.slots.default=()=>n},Ah=(t,e)=>{const n=t.slots=Fc();if(t.vnode.shapeFlag&32){const r=e._;r?(he(n,e),rc(n,"_",r,!0)):Gc(e,n)}else e&&qc(t,e)},Sh=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=ne;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:(he(s,e),!n&&l===1&&delete s._):(i=!e.$stable,Gc(e,s)),o=e}else e&&(qc(t,e),o={default:1});if(i)for(const l in s)!Wc(l)&&o[l]==null&&delete s[l]};function vi(t,e,n,r,s=!1){if(F(t)){t.forEach((f,h)=>vi(f,e&&(F(e)?e[h]:e),n,r,s));return}if(Ir(r)&&!s)return;const i=r.shapeFlag&4?ps(r.component)||r.component.proxy:r.el,o=s?null:i,{i:l,r:a}=t,u=e&&e.r,c=l.refs===ne?l.refs={}:l.refs,d=l.setupState;if(u!=null&&u!==a&&(ce(u)?(c[u]=null,q(d,u)&&(d[u]=null)):De(u)&&(u.value=null)),V(a))yt(a,l,12,[o,c]);else{const f=ce(a),h=De(a);if(f||h){const m=()=>{if(t.f){const v=f?q(d,a)?d[a]:c[a]:a.value;s?F(v)&&Vi(v,i):F(v)?v.includes(i)||v.push(i):f?(c[a]=[i],q(d,a)&&(d[a]=c[a])):(a.value=[i],t.k&&(c[t.k]=a.value))}else f?(c[a]=o,q(d,a)&&(d[a]=o)):h&&(a.value=o,t.k&&(c[t.k]=o))};o?(m.id=-1,Ee(m,n)):m()}}}const Ee=Yf;function Ch(t){return Dh(t)}function Dh(t,e){const n=sc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:a,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=Me,insertStaticContent:m}=t,v=(g,p,E,A=null,S=null,T=null,M=void 0,R=null,x=!!p.dynamicChildren)=>{if(g===p)return;g&&!Tn(g,p)&&(A=dr(g),Ve(g,S,T,!0),g=null),p.patchFlag===-2&&(x=!1,p.dynamicChildren=null);const{type:C,ref:P,shapeFlag:B}=p;switch(C){case hs:y(g,p,E,A);break;case Wt:w(g,p,E,A);break;case Ns:g==null&&D(p,E,A,M);break;case Ie:ar(g,p,E,A,S,T,M,R,x);break;default:B&1?j(g,p,E,A,S,T,M,R,x):B&6?cr(g,p,E,A,S,T,M,R,x):(B&64||B&128)&&C.process(g,p,E,A,S,T,M,R,x,Dn)}P!=null&&S&&vi(P,g&&g.ref,T,p||g,!p)},y=(g,p,E,A)=>{if(g==null)r(p.el=l(p.children),E,A);else{const S=p.el=g.el;p.children!==g.children&&u(S,p.children)}},w=(g,p,E,A)=>{g==null?r(p.el=a(p.children||""),E,A):p.el=g.el},D=(g,p,E,A)=>{[g.el,g.anchor]=m(g.children,p,E,A,g.el,g.anchor)},k=({el:g,anchor:p},E,A)=>{let S;for(;g&&g!==p;)S=f(g),r(g,E,A),g=S;r(p,E,A)},O=({el:g,anchor:p})=>{let E;for(;g&&g!==p;)E=f(g),s(g),g=E;s(p)},j=(g,p,E,A,S,T,M,R,x)=>{p.type==="svg"?M="svg":p.type==="math"&&(M="mathml"),g==null?I(p,E,A,S,T,M,R,x):ue(g,p,S,T,M,R,x)},I=(g,p,E,A,S,T,M,R)=>{let x,C;const{props:P,shapeFlag:B,transition:L,dirs:$}=g;if(x=g.el=o(g.type,T,P&&P.is,P),B&8?c(x,g.children):B&16&&N(g.children,x,null,A,S,Ps(g,T),M,R),$&&kt(g,null,A,"created"),H(x,g,g.scopeId,M,A),P){for(const Z in P)Z!=="value"&&!In(Z)&&i(x,Z,null,P[Z],T,g.children,A,S,Xe);"value"in P&&i(x,"value",null,P.value,T),(C=P.onVnodeBeforeMount)&&Ge(C,A,g)}$&&kt(g,null,A,"beforeMount");const W=Rh(S,L);W&&L.beforeEnter(x),r(x,p,E),((C=P&&P.onVnodeMounted)||W||$)&&Ee(()=>{C&&Ge(C,A,g),W&&L.enter(x),$&&kt(g,null,A,"mounted")},S)},H=(g,p,E,A,S)=>{if(E&&h(g,E),A)for(let T=0;T<A.length;T++)h(g,A[T]);if(S){let T=S.subTree;if(p===T){const M=S.vnode;H(g,M,M.scopeId,M.slotScopeIds,S.parent)}}},N=(g,p,E,A,S,T,M,R,x=0)=>{for(let C=x;C<g.length;C++){const P=g[C]=R?ut(g[C]):Ye(g[C]);v(null,P,p,E,A,S,T,M,R)}},ue=(g,p,E,A,S,T,M)=>{const R=p.el=g.el;let{patchFlag:x,dynamicChildren:C,dirs:P}=p;x|=g.patchFlag&16;const B=g.props||ne,L=p.props||ne;let $;if(E&&Ot(E,!1),($=L.onVnodeBeforeUpdate)&&Ge($,E,p,g),P&&kt(p,g,E,"beforeUpdate"),E&&Ot(E,!0),C?ge(g.dynamicChildren,C,R,E,A,Ps(p,S),T):M||X(g,p,R,null,E,A,Ps(p,S),T,!1),x>0){if(x&16)$e(R,p,B,L,E,A,S);else if(x&2&&B.class!==L.class&&i(R,"class",null,L.class,S),x&4&&i(R,"style",B.style,L.style,S),x&8){const W=p.dynamicProps;for(let Z=0;Z<W.length;Z++){const re=W[Z],de=B[re],Pe=L[re];(Pe!==de||re==="value")&&i(R,re,de,Pe,S,g.children,E,A,Xe)}}x&1&&g.children!==p.children&&c(R,p.children)}else!M&&C==null&&$e(R,p,B,L,E,A,S);(($=L.onVnodeUpdated)||P)&&Ee(()=>{$&&Ge($,E,p,g),P&&kt(p,g,E,"updated")},A)},ge=(g,p,E,A,S,T,M)=>{for(let R=0;R<p.length;R++){const x=g[R],C=p[R],P=x.el&&(x.type===Ie||!Tn(x,C)||x.shapeFlag&70)?d(x.el):E;v(x,C,P,null,A,S,T,M,!0)}},$e=(g,p,E,A,S,T,M)=>{if(E!==A){if(E!==ne)for(const R in E)!In(R)&&!(R in A)&&i(g,R,E[R],null,M,p.children,S,T,Xe);for(const R in A){if(In(R))continue;const x=A[R],C=E[R];x!==C&&R!=="value"&&i(g,R,C,x,M,p.children,S,T,Xe)}"value"in A&&i(g,"value",E.value,A.value,M)}},ar=(g,p,E,A,S,T,M,R,x)=>{const C=p.el=g?g.el:l(""),P=p.anchor=g?g.anchor:l("");let{patchFlag:B,dynamicChildren:L,slotScopeIds:$}=p;$&&(R=R?R.concat($):$),g==null?(r(C,E,A),r(P,E,A),N(p.children||[],E,P,S,T,M,R,x)):B>0&&B&64&&L&&g.dynamicChildren?(ge(g.dynamicChildren,L,E,S,T,M,R),(p.key!=null||S&&p===S.subTree)&&io(g,p,!0)):X(g,p,E,P,S,T,M,R,x)},cr=(g,p,E,A,S,T,M,R,x)=>{p.slotScopeIds=R,g==null?p.shapeFlag&512?S.ctx.activate(p,E,A,M,x):Ds(p,E,A,S,T,M,x):Bo(g,p,x)},Ds=(g,p,E,A,S,T,M)=>{const R=g.component=Bh(g,A,S);if(Nc(g)&&(R.ctx.renderer=Dn),Fh(R),R.asyncDep){if(S&&S.registerDep(R,be),!g.el){const x=R.subTree=Ae(Wt);w(null,x,p,E)}}else be(R,g,p,E,S,T,M)},Bo=(g,p,E)=>{const A=p.component=g.component;if(zf(g,p,E))if(A.asyncDep&&!A.asyncResolved){oe(A,p,E);return}else A.next=p,Lf(A.update),A.effect.dirty=!0,A.update();else p.el=g.el,A.vnode=p},be=(g,p,E,A,S,T,M)=>{const R=()=>{if(g.isMounted){let{next:P,bu:B,u:L,parent:$,vnode:W}=g;{const en=Yc(g);if(en){P&&(P.el=W.el,oe(g,P,M)),en.asyncDep.then(()=>{g.isUnmounted||R()});return}}let Z=P,re;Ot(g,!1),P?(P.el=W.el,oe(g,P,M)):P=W,B&&Or(B),(re=P.props&&P.props.onVnodeBeforeUpdate)&&Ge(re,$,P,W),Ot(g,!0);const de=Os(g),Pe=g.subTree;g.subTree=de,v(Pe,de,d(Pe.el),dr(Pe),g,S,T),P.el=de.el,Z===null&&Wf(g,de.el),L&&Ee(L,S),(re=P.props&&P.props.onVnodeUpdated)&&Ee(()=>Ge(re,$,P,W),S)}else{let P;const{el:B,props:L}=p,{bm:$,m:W,parent:Z}=g,re=Ir(p);if(Ot(g,!1),$&&Or($),!re&&(P=L&&L.onVnodeBeforeMount)&&Ge(P,Z,p),Ot(g,!0),B&&zo){const de=()=>{g.subTree=Os(g),zo(B,g.subTree,g,S,null)};re?p.type.__asyncLoader().then(()=>!g.isUnmounted&&de()):de()}else{const de=g.subTree=Os(g);v(null,de,E,A,g,S,T),p.el=de.el}if(W&&Ee(W,S),!re&&(P=L&&L.onVnodeMounted)){const de=p;Ee(()=>Ge(P,Z,de),S)}(p.shapeFlag&256||Z&&Ir(Z.vnode)&&Z.vnode.shapeFlag&256)&&g.a&&Ee(g.a,S),g.isMounted=!0,p=E=A=null}},x=g.effect=new qi(R,Me,()=>no(C),g.scope),C=g.update=()=>{x.dirty&&x.run()};C.id=g.uid,Ot(g,!0),C()},oe=(g,p,E)=>{p.component=g;const A=g.vnode.props;g.vnode=p,g.next=null,wh(g,p.props,A,E),Sh(g,p.children,E),At(),rl(g),St()},X=(g,p,E,A,S,T,M,R,x=!1)=>{const C=g&&g.children,P=g?g.shapeFlag:0,B=p.children,{patchFlag:L,shapeFlag:$}=p;if(L>0){if(L&128){ur(C,B,E,A,S,T,M,R,x);return}else if(L&256){Rt(C,B,E,A,S,T,M,R,x);return}}$&8?(P&16&&Xe(C,S,T),B!==C&&c(E,B)):P&16?$&16?ur(C,B,E,A,S,T,M,R,x):Xe(C,S,T,!0):(P&8&&c(E,""),$&16&&N(B,E,A,S,T,M,R,x))},Rt=(g,p,E,A,S,T,M,R,x)=>{g=g||an,p=p||an;const C=g.length,P=p.length,B=Math.min(C,P);let L;for(L=0;L<B;L++){const $=p[L]=x?ut(p[L]):Ye(p[L]);v(g[L],$,E,null,S,T,M,R,x)}C>P?Xe(g,S,T,!0,!1,B):N(p,E,A,S,T,M,R,x,B)},ur=(g,p,E,A,S,T,M,R,x)=>{let C=0;const P=p.length;let B=g.length-1,L=P-1;for(;C<=B&&C<=L;){const $=g[C],W=p[C]=x?ut(p[C]):Ye(p[C]);if(Tn($,W))v($,W,E,null,S,T,M,R,x);else break;C++}for(;C<=B&&C<=L;){const $=g[B],W=p[L]=x?ut(p[L]):Ye(p[L]);if(Tn($,W))v($,W,E,null,S,T,M,R,x);else break;B--,L--}if(C>B){if(C<=L){const $=L+1,W=$<P?p[$].el:A;for(;C<=L;)v(null,p[C]=x?ut(p[C]):Ye(p[C]),E,W,S,T,M,R,x),C++}}else if(C>L)for(;C<=B;)Ve(g[C],S,T,!0),C++;else{const $=C,W=C,Z=new Map;for(C=W;C<=L;C++){const Re=p[C]=x?ut(p[C]):Ye(p[C]);Re.key!=null&&Z.set(Re.key,C)}let re,de=0;const Pe=L-W+1;let en=!1,Wo=0;const Rn=new Array(Pe);for(C=0;C<Pe;C++)Rn[C]=0;for(C=$;C<=B;C++){const Re=g[C];if(de>=Pe){Ve(Re,S,T,!0);continue}let ze;if(Re.key!=null)ze=Z.get(Re.key);else for(re=W;re<=L;re++)if(Rn[re-W]===0&&Tn(Re,p[re])){ze=re;break}ze===void 0?Ve(Re,S,T,!0):(Rn[ze-W]=C+1,ze>=Wo?Wo=ze:en=!0,v(Re,p[ze],E,null,S,T,M,R,x),de++)}const Go=en?Th(Rn):an;for(re=Go.length-1,C=Pe-1;C>=0;C--){const Re=W+C,ze=p[Re],qo=Re+1<P?p[Re+1].el:A;Rn[C]===0?v(null,ze,E,qo,S,T,M,R,x):en&&(re<0||C!==Go[re]?Tt(ze,E,qo,2):re--)}}},Tt=(g,p,E,A,S=null)=>{const{el:T,type:M,transition:R,children:x,shapeFlag:C}=g;if(C&6){Tt(g.component.subTree,p,E,A);return}if(C&128){g.suspense.move(p,E,A);return}if(C&64){M.move(g,p,E,Dn);return}if(M===Ie){r(T,p,E);for(let B=0;B<x.length;B++)Tt(x[B],p,E,A);r(g.anchor,p,E);return}if(M===Ns){k(g,p,E);return}if(A!==2&&C&1&&R)if(A===0)R.beforeEnter(T),r(T,p,E),Ee(()=>R.enter(T),S);else{const{leave:B,delayLeave:L,afterLeave:$}=R,W=()=>r(T,p,E),Z=()=>{B(T,()=>{W(),$&&$()})};L?L(T,W,Z):Z()}else r(T,p,E)},Ve=(g,p,E,A=!1,S=!1)=>{const{type:T,props:M,ref:R,children:x,dynamicChildren:C,shapeFlag:P,patchFlag:B,dirs:L}=g;if(R!=null&&vi(R,null,E,g,!0),P&256){p.ctx.deactivate(g);return}const $=P&1&&L,W=!Ir(g);let Z;if(W&&(Z=M&&M.onVnodeBeforeUnmount)&&Ge(Z,p,g),P&6)qd(g.component,E,A);else{if(P&128){g.suspense.unmount(E,A);return}$&&kt(g,null,p,"beforeUnmount"),P&64?g.type.remove(g,p,E,S,Dn,A):C&&(T!==Ie||B>0&&B&64)?Xe(C,p,E,!1,!0):(T===Ie&&B&384||!S&&P&16)&&Xe(x,p,E),A&&Fo(g)}(W&&(Z=M&&M.onVnodeUnmounted)||$)&&Ee(()=>{Z&&Ge(Z,p,g),$&&kt(g,null,p,"unmounted")},E)},Fo=g=>{const{type:p,el:E,anchor:A,transition:S}=g;if(p===Ie){Gd(E,A);return}if(p===Ns){O(g);return}const T=()=>{s(E),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(g.shapeFlag&1&&S&&!S.persisted){const{leave:M,delayLeave:R}=S,x=()=>M(E,T);R?R(g.el,T,x):x()}else T()},Gd=(g,p)=>{let E;for(;g!==p;)E=f(g),s(g),g=E;s(p)},qd=(g,p,E)=>{const{bum:A,scope:S,update:T,subTree:M,um:R}=g;A&&Or(A),S.stop(),T&&(T.active=!1,Ve(M,g,p,E)),R&&Ee(R,p),Ee(()=>{g.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Xe=(g,p,E,A=!1,S=!1,T=0)=>{for(let M=T;M<g.length;M++)Ve(g[M],p,E,A,S)},dr=g=>g.shapeFlag&6?dr(g.component.subTree):g.shapeFlag&128?g.suspense.next():f(g.anchor||g.el);let Rs=!1;const $o=(g,p,E)=>{g==null?p._vnode&&Ve(p._vnode,null,null,!0):v(p._vnode||null,g,p,null,null,null,E),Rs||(Rs=!0,rl(),Tc(),Rs=!1),p._vnode=g},Dn={p:v,um:Ve,m:Tt,r:Fo,mt:Ds,mc:N,pc:X,pbc:ge,n:dr,o:t};let Vo,zo;return{render:$o,hydrate:Vo,createApp:yh($o,Vo)}}function Ps({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ot({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Rh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function io(t,e,n=!1){const r=t.children,s=e.children;if(F(r)&&F(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=ut(s[i]),l.el=o.el),n||io(o,l)),l.type===hs&&(l.el=o.el)}}function Th(t){const e=t.slice(),n=[0];let r,s,i,o,l;const a=t.length;for(r=0;r<a;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<u?i=l+1:o=l;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Yc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Yc(e)}const kh=t=>t.__isTeleport,jn=t=>t&&(t.disabled||t.disabled===""),hl=t=>typeof SVGElement<"u"&&t instanceof SVGElement,gl=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,yi=(t,e)=>{const n=t&&t.to;return ce(n)?e?e(n):null:n},Oh={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,l,a,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:v,createComment:y}}=u,w=jn(e.props);let{shapeFlag:D,children:k,dynamicChildren:O}=e;if(t==null){const j=e.el=v(""),I=e.anchor=v("");h(j,n,r),h(I,n,r);const H=e.target=yi(e.props,m),N=e.targetAnchor=v("");H&&(h(N,H),o==="svg"||hl(H)?o="svg":(o==="mathml"||gl(H))&&(o="mathml"));const ue=(ge,$e)=>{D&16&&c(k,ge,$e,s,i,o,l,a)};w?ue(n,I):H&&ue(H,N)}else{e.el=t.el;const j=e.anchor=t.anchor,I=e.target=t.target,H=e.targetAnchor=t.targetAnchor,N=jn(t.props),ue=N?n:I,ge=N?j:H;if(o==="svg"||hl(I)?o="svg":(o==="mathml"||gl(I))&&(o="mathml"),O?(f(t.dynamicChildren,O,ue,s,i,o,l),io(t,e,!0)):a||d(t,e,ue,ge,s,i,o,l,!1),w)N?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):yr(e,n,j,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $e=e.target=yi(e.props,m);$e&&yr(e,$e,null,u,0)}else N&&yr(e,I,H,u,1)}Qc(e)},remove(t,e,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:l,children:a,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&i(c),o&&i(u),l&16){const h=o||!jn(f);for(let m=0;m<a.length;m++){const v=a[m];s(v,e,n,h,!!v.dynamicChildren)}}},move:yr,hydrate:xh};function yr(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:l,shapeFlag:a,children:u,props:c}=t,d=i===2;if(d&&r(o,e,n),(!d||jn(c))&&a&16)for(let f=0;f<u.length;f++)s(u[f],e,n,2);d&&r(l,e,n)}function xh(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:l,querySelector:a}},u){const c=e.target=yi(e.props,a);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(jn(e.props))e.anchor=u(o(t),e,l(t),n,r,s,i),e.targetAnchor=d;else{e.anchor=o(t);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,s,i)}Qc(e)}return e.anchor&&o(e.anchor)}const Ih=Oh;function Qc(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ie=Symbol.for("v-fgt"),hs=Symbol.for("v-txt"),Wt=Symbol.for("v-cmt"),Ns=Symbol.for("v-stc"),Ln=[];let Ue=null;function Ne(t=!1){Ln.push(Ue=t?null:[])}function Mh(){Ln.pop(),Ue=Ln[Ln.length-1]||null}let Qn=1;function pl(t){Qn+=t}function Kc(t){return t.dynamicChildren=Qn>0?Ue||an:null,Mh(),Qn>0&&Ue&&Ue.push(t),t}function We(t,e,n,r,s,i){return Kc(J(t,e,n,r,s,i,!0))}function Ph(t,e,n,r,s){return Kc(Ae(t,e,n,r,s,!0))}function bi(t){return t?t.__v_isVNode===!0:!1}function Tn(t,e){return t.type===e.type&&t.key===e.key}const Zc=({key:t})=>t??null,Pr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ce(t)||De(t)||V(t)?{i:ke,r:t,k:e,f:!!n}:t:null);function J(t,e=null,n=null,r=0,s=null,i=t===Ie?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zc(e),ref:e&&Pr(e),scopeId:xc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ke};return l?(oo(a,n),i&128&&t.normalize(a)):n&&(a.shapeFlag|=ce(n)?8:16),Qn>0&&!o&&Ue&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&Ue.push(a),a}const Ae=Nh;function Nh(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Gf)&&(t=Wt),bi(t)){const l=mn(t,e,!0);return n&&oo(l,n),Qn>0&&!i&&Ue&&(l.shapeFlag&6?Ue[Ue.indexOf(t)]=l:Ue.push(l)),l.patchFlag|=-2,l}if(Wh(t)&&(t=t.__vccOpts),e){e=jh(e);let{class:l,style:a}=e;l&&!ce(l)&&(e.class=Gi(l)),te(a)&&(_c(a)&&!F(a)&&(a=he({},a)),e.style=Wi(a))}const o=ce(t)?1:qf(t)?128:kh(t)?64:te(t)?4:V(t)?2:0;return J(t,e,n,r,s,o,i,!0)}function jh(t){return t?_c(t)||$c(t)?he({},t):t:null}function mn(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:a}=t,u=e?Lh(s||{},e):s,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Zc(u),ref:e&&e.ref?n&&i?F(i)?i.concat(Pr(e)):[i,Pr(e)]:Pr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mn(t.ssContent),ssFallback:t.ssFallback&&mn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&r&&(c.transition=a.clone(c)),c}function Ze(t=" ",e=0){return Ae(hs,null,t,e)}function js(t="",e=!1){return e?(Ne(),Ph(Wt,null,t)):Ae(Wt,null,t)}function Ye(t){return t==null||typeof t=="boolean"?Ae(Wt):F(t)?Ae(Ie,null,t.slice()):typeof t=="object"?ut(t):Ae(hs,null,String(t))}function ut(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mn(t)}function oo(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(F(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),oo(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!$c(e)?e._ctx=ke:s===3&&ke&&(ke.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else V(e)?(e={default:e,_ctx:ke},n=32):(e=String(e),r&64?(n=16,e=[Ze(e)]):n=8);t.children=e,t.shapeFlag|=n}function Lh(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Gi([e.class,r.class]));else if(s==="style")e.style=Wi([e.style,r.style]);else if(ls(s)){const i=e[s],o=r[s];o&&i!==o&&!(F(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Ge(t,e,n,r=null){Be(t,e,7,[n,r])}const Hh=Uc();let Uh=0;function Bh(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Hh,i={uid:Uh++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new lc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zc(r,s),emitsOptions:Oc(r,s),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:r.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Bf.bind(null,i),t.ce&&t.ce(i),i}let we=null,Wr,_i;{const t=sc(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Wr=e("__VUE_INSTANCE_SETTERS__",n=>we=n),_i=e("__VUE_SSR_SETTERS__",n=>gs=n)}const nr=t=>{const e=we;return Wr(t),t.scope.on(),()=>{t.scope.off(),Wr(e)}},ml=()=>{we&&we.scope.off(),Wr(null)};function Jc(t){return t.vnode.shapeFlag&4}let gs=!1;function Fh(t,e=!1){e&&_i(e);const{props:n,children:r}=t.vnode,s=Jc(t);_h(t,n,s,e),Ah(t,r);const i=s?$h(t,e):void 0;return e&&_i(!1),i}function $h(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,dh);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?zh(t):null,i=nr(t);At();const o=yt(r,t,0,[t.props,s]);if(St(),i(),Xa(o)){if(o.then(ml,ml),e)return o.then(l=>{vl(t,l,e)}).catch(l=>{us(l,t,0)});t.asyncDep=o}else vl(t,o,e)}else Xc(t,e)}function vl(t,e,n){V(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:te(e)&&(t.setupState=Cc(e)),Xc(t,n)}let yl;function Xc(t,e,n){const r=t.type;if(!t.render){if(!e&&yl&&!r.render){const s=r.template||ro(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=r,u=he(he({isCustomElement:i,delimiters:l},o),a);r.render=yl(s,u)}}t.render=r.render||Me}{const s=nr(t);At();try{fh(t)}finally{St(),s()}}}const Vh={get(t,e){return Ce(t,"get",""),t[e]}};function zh(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Vh),slots:t.slots,emit:t.emit,expose:e}}function ps(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Cc(wc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Pn)return Pn[n](t)},has(e,n){return n in e||n in Pn}}))}function Wh(t){return V(t)&&"__vccOpts"in t}const wi=(t,e)=>Of(t,e,gs);function Nr(t,e,n){const r=arguments.length;return r===2?te(e)&&!F(e)?bi(e)?Ae(t,null,[e]):Ae(t,e):Ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&bi(n)&&(n=[n]),Ae(t,e,n))}const Gh="3.4.26";/**
* @vue/runtime-dom v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qh="http://www.w3.org/2000/svg",Yh="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,bl=dt&&dt.createElement("template"),Qh={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?dt.createElementNS(qh,t):e==="mathml"?dt.createElementNS(Yh,t):dt.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>dt.createTextNode(t),createComment:t=>dt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>dt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{bl.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const l=bl.content;if(r==="svg"||r==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Kh=Symbol("_vtc");function Zh(t,e,n){const r=t[Kh];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const _l=Symbol("_vod"),Jh=Symbol("_vsh"),Xh=Symbol(""),eg=/(^|;)\s*display\s*:/;function tg(t,e,n){const r=t.style,s=ce(n);let i=!1;if(n&&!s){if(e)if(ce(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&jr(r,l,"")}else for(const o in e)n[o]==null&&jr(r,o,"");for(const o in n)o==="display"&&(i=!0),jr(r,o,n[o])}else if(s){if(e!==n){const o=r[Xh];o&&(n+=";"+o),r.cssText=n,i=eg.test(n)}}else e&&t.removeAttribute("style");_l in t&&(t[_l]=i?r.display:"",t[Jh]&&(r.display="none"))}const wl=/\s*!important$/;function jr(t,e,n){if(F(n))n.forEach(r=>jr(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=ng(t,e);wl.test(n)?t.setProperty(En(r),n.replace(wl,""),"important"):t[r]=n}}const El=["Webkit","Moz","ms"],Ls={};function ng(t,e){const n=Ls[e];if(n)return n;let r=pn(e);if(r!=="filter"&&r in t)return Ls[e]=r;r=nc(r);for(let s=0;s<El.length;s++){const i=El[s]+r;if(i in t)return Ls[e]=i}return e}const Al="http://www.w3.org/1999/xlink";function rg(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Al,e.slice(6,e.length)):t.setAttributeNS(Al,e,n);else{const i=sf(e);n==null||i&&!ic(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function sg(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const u=l==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=ic(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Lt(t,e,n,r){t.addEventListener(e,n,r)}function ig(t,e,n,r){t.removeEventListener(e,n,r)}const Sl=Symbol("_vei");function og(t,e,n,r,s=null){const i=t[Sl]||(t[Sl]={}),o=i[e];if(r&&o)o.value=r;else{const[l,a]=lg(e);if(r){const u=i[e]=ug(r,s);Lt(t,l,u,a)}else o&&(ig(t,l,o,a),i[e]=void 0)}}const Cl=/(?:Once|Passive|Capture)$/;function lg(t){let e;if(Cl.test(t)){e={};let r;for(;r=t.match(Cl);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):En(t.slice(2)),e]}let Hs=0;const ag=Promise.resolve(),cg=()=>Hs||(ag.then(()=>Hs=0),Hs=Date.now());function ug(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Be(dg(r,n.value),e,5,[r])};return n.value=t,n.attached=cg(),n}function dg(t,e){if(F(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Dl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,fg=(t,e,n,r,s,i,o,l,a)=>{const u=s==="svg";e==="class"?Zh(t,r,u):e==="style"?tg(t,n,r):ls(e)?$i(e)||og(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hg(t,e,r,u))?sg(t,e,r,i,o,l,a):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),rg(t,e,r,u))};function hg(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Dl(e)&&V(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Dl(e)&&ce(n)?!1:e in t}const Gr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return F(e)?n=>Or(e,n):e};function gg(t){t.target.composing=!0}function Rl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const dn=Symbol("_assign"),Tl={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[dn]=Gr(s);const i=r||s.props&&s.props.type==="number";Lt(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=li(l)),t[dn](l)}),n&&Lt(t,"change",()=>{t.value=t.value.trim()}),e||(Lt(t,"compositionstart",gg),Lt(t,"compositionend",Rl),Lt(t,"change",Rl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t[dn]=Gr(i),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?li(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===l)||(t.value=l))}},pg={created(t,{value:e},n){t.checked=Fr(e,n.props.value),t[dn]=Gr(n),Lt(t,"change",()=>{t[dn](mg(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[dn]=Gr(r),e!==n&&(t.checked=Fr(e,r.props.value))}};function mg(t){return"_value"in t?t._value:t.value}const vg=["ctrl","shift","alt","meta"],yg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>vg.some(n=>t[`${n}Key`]&&!e.includes(n))},kl=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const l=yg[e[o]];if(l&&l(s,e))return}return t(s,...i)})},bg=he({patchProp:fg},Qh);let Ol;function _g(){return Ol||(Ol=Ch(bg))}const wg=(...t)=>{const e=_g().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Ag(r);if(!s)return;const i=e._component;!V(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,Eg(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function Eg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ag(t){return ce(t)?document.querySelector(t):t}var Sg=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const Cg=Symbol();var xl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(xl||(xl={}));function Dg(){const t=lf(!0),e=t.run(()=>qe({}));let n=[],r=[];const s=wc({install(i){s._a=i,i.provide(Cg,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!Sg?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Il=t=>{const e=a=>(a<10?"0":"")+a,n=t.getFullYear(),r=e(t.getMonth()+1),s=e(t.getDate()),i=e(t.getHours()),o=e(t.getMinutes()),l=e(t.getSeconds());return`${n}-${r}-${s}T${i}:${o}:${l}Z`},Rg="modulepreload",Tg=function(t){return"/"+t},Ml={},vn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(l=>{if(l=Tg(l),l in Ml)return;Ml[l]=!0;const a=l.endsWith(".css"),u=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":Rg,a||(c.as="script",c.crossOrigin=""),c.href=l,o&&c.setAttribute("nonce",o),document.head.appendChild(c),a)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},kg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vn(()=>Promise.resolve().then(()=>rr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class lo extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Og extends lo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xg extends lo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ig extends lo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ei;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ei||(Ei={}));var Mg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Pg{constructor(e,{headers:n={},customFetch:r,region:s=Ei.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=kg(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Mg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(m=>{throw new Og(m)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new xg(c);if(!c.ok)throw new Ig(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield c.json():f==="application/octet-stream"?h=yield c.blob():f==="text/event-stream"?h=c:f==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}var Ng=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yn=Ng();const jg=yn.fetch,ao=yn.fetch.bind(yn),eu=yn.Headers,Lg=yn.Request,Hg=yn.Response,rr=Object.freeze(Object.defineProperty({__proto__:null,Headers:eu,Request:Lg,Response:Hg,default:ao,fetch:jg},Symbol.toStringTag,{value:"Module"}));class Ug extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class Bg{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ao:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,c=null,d=null,f=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=w:c=JSON.parse(w))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,h="OK")}catch{i.status===404&&v===""?(f=204,h="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,f=200,h="OK"),u&&this.shouldThrowOnError)throw new Ug(u)}return{error:u,data:c,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}}class Fg extends Bg{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class sn extends Fg{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}}class $g{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new sn({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new sn({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new sn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new sn({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new sn({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Vg="1.15.2",zg={"X-Client-Info":`postgrest-js/${Vg}`};class co{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},zg),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new $g(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new co(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{l.searchParams.append(c,d)})):(o="POST",a=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new sn({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const Wg="2.9.5",Gg={"X-Client-Info":`realtime-js/${Wg}`},qg="1.0.0",tu=1e4,Yg=1e3;var fn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fn||(fn={}));var Te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Te||(Te={}));var He;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(He||(He={}));var Ai;(function(t){t.websocket="websocket"})(Ai||(Ai={}));var Ht;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ht||(Ht={}));class nu{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Qg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class Us{constructor(e,n,r={},s=tu){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pl||(Pl={}));class Hn{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Hn.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const f=c.map(y=>y.presence_ref),h=d.map(y=>y.presence_ref),m=c.filter(y=>h.indexOf(y.presence_ref)<0),v=d.filter(y=>f.indexOf(y.presence_ref)<0);m.length>0&&(l[u]=m),v.length>0&&(a[u]=v)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const d=e[l].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);e[l].unshift(...f)}r(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ee;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ee||(ee={}));const Nl=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Kg(o,t,e,s),i),{})},Kg=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?ru(i,o):Si(o)},ru=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ep(e,n)}switch(t){case ee.bool:return Zg(e);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return Jg(e);case ee.json:case ee.jsonb:return Xg(e);case ee.timestamp:return tp(e);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Si(e);default:return Si(e)}},Si=t=>t,Zg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Jg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Xg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ep=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ru(e,l))}return t},tp=t=>typeof t=="string"?t.replace(" ","T"):t;var jl;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jl||(jl={}));var Ll;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(Ll||(Ll={}));var Hl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Hl||(Hl={}));class uo{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Us(this,He.join,this.params,this.timeout),this.rejoinTimer=new nu(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Hn(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},a={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:a},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,f=(c=d==null?void 0:d.length)!==null&&c!==void 0?c:0,h=[];for(let m=0;m<f;m++){const v=d[m],{filter:{event:y,schema:w,table:D,filter:k}}=v,O=u&&u[m];if(O&&O.event===y&&O.schema===w&&O.table===D&&O.filter===k)h.push(Object.assign(Object.assign({},v),{id:O.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{apikey:(r=this.socket.apiKey)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(a){return a.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Te.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Us(this,He.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Us(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=He;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var m,v,y;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(v=h.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var m,v,y,w,D,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const O=h.id,j=(m=h.filter)===null||m===void 0?void 0:m.event;return O&&((v=n.ids)===null||v===void 0?void 0:v.includes(O))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const O=(D=(w=h==null?void 0:h.filter)===null||w===void 0?void 0:w.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return O==="*"||O===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:v,table:y,commit_timestamp:w,type:D,errors:k}=m;f=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:w,eventType:D,new:{},old:{},errors:k}),this._getPayloadRecords(m))}h.callback(f,r)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&uo.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(He.close,{},e)}_onError(e){this._on(He.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Nl(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Nl(e.columns,e.old_record)),n}}const np=()=>{},rp=typeof WebSocket<"u";class sp{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Gg,this.params={},this.timeout=tu,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=np,this.conn=null,this.sendBuffer=[],this.serializer=new Qg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>vn(()=>Promise.resolve().then(()=>rr),void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Ai.websocket}`,n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new nu(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(rp){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new ip(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),vn(()=>import("./browser-BImCA5dO.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return Ht.Connecting;case fn.open:return Ht.Open;case fn.closing:return Ht.Closing;default:return Ht.Closed}}isConnected(){return this.connectionState()===Ht.Open}channel(e,n={config:{}}){const r=new uo(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(He.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qg}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(He.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Yg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class ip{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class fo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class op extends fo{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ul extends fo{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var lp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const su=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vn(()=>Promise.resolve().then(()=>rr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},ap=()=>lp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vn(()=>Promise.resolve().then(()=>rr),void 0)).Response:Response});var An=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Bs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cp=(t,e)=>An(void 0,void 0,void 0,function*(){const n=yield ap();t instanceof n?t.json().then(r=>{e(new op(Bs(r),t.status||500))}).catch(r=>{e(new Ul(Bs(r),r))}):e(new Ul(Bs(t),t))}),up=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};function ms(t,e,n,r,s,i){return An(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,up(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>cp(a,l))})})}function Ci(t,e,n,r){return An(this,void 0,void 0,function*(){return ms(t,"GET",e,n,r)})}function ft(t,e,n,r,s){return An(this,void 0,void 0,function*(){return ms(t,"POST",e,r,s,n)})}function dp(t,e,n,r,s){return An(this,void 0,void 0,function*(){return ms(t,"PUT",e,r,s,n)})}function iu(t,e,n,r,s){return An(this,void 0,void 0,function*(){return ms(t,"DELETE",e,r,s,n)})}var xe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const fp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hp{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=su(s)}uploadOrUpdate(e,n,r,s){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Bl),s),l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType);const a=this._removeEmptyFolders(n),u=this._getFinalPath(a),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield c.json();return c.ok?{data:{path:a,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}upload(e,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Bl.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:c}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e){return xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=yield ft(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),s=new URL(this.url+r.url),i=s.searchParams.get("token");if(!i)throw new fo("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}update(e,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return xe(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}copy(e,n){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ft(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return xe(this,void 0,void 0,function*(){try{const s=yield ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}download(e,n){return xe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ci(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return xe(this,void 0,void 0,function*(){try{return{data:yield iu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}list(e,n,r){return xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fp),n),{prefix:e||""});return{data:yield ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const gp="2.5.5",pp={"X-Client-Info":`storage-js/${gp}`};var tn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class mp{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},pp),n),this.fetch=su(r)}listBuckets(){return tn(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pe(e))return{data:null,error:e};throw e}})}getBucket(e){return tn(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return tn(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return tn(this,void 0,void 0,function*(){try{return{data:yield dp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return tn(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return tn(this,void 0,void 0,function*(){try{return{data:yield iu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}}class vp extends mp{constructor(e,n={},r){super(e,n,r)}from(e){return new hp(this.url,this.headers,e,this.fetch)}}const yp="2.43.4";let xn="";typeof Deno<"u"?xn="deno":typeof document<"u"?xn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xn="react-native":xn="node";const bp={"X-Client-Info":`supabase-js-${xn}/${yp}`},_p={headers:bp},wp={schema:"public"},Ep={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ap={};var Sp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Cp=t=>{let e;return t?e=t:typeof fetch>"u"?e=ao:e=fetch,(...n)=>e(...n)},Dp=()=>typeof Headers>"u"?eu:Headers,Rp=(t,e,n)=>{const r=Cp(n),s=Dp();return(i,o)=>Sp(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};function Tp(t){return t.replace(/\/$/,"")}function kp(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:l,realtime:a,global:u}=e;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),s),global:Object.assign(Object.assign({},u),i)}}const ou="2.64.2",Op="http://localhost:9999",xp="supabase.auth.token",Ip={"X-Client-Info":`gotrue-js/${ou}`},Fl=10,Di="X-Supabase-Api-Version",lu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Mp(t){return Math.round(Date.now()/1e3)+t}function Pp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const je=()=>typeof document<"u",xt={tested:!1,writable:!1},Un=()=>{if(!je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xt.tested)return xt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xt.tested=!0,xt.writable=!0}catch{xt.tested=!0,xt.writable=!1}return xt.writable};function Fs(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const au=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vn(()=>Promise.resolve().then(()=>rr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Np=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cu=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},br=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$s=async(t,e)=>{await t.removeItem(e)};function jp(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,l,a,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|l>>4,s=(l&15)<<4|a>>2,i=(a&3)<<6|u,n=n+String.fromCharCode(r),a!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class vs{constructor(){this.promise=new vs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}vs.promiseConstructor=Promise;function $l(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(jp(r))}async function Lp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hp(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Up(t){return("0"+t.toString(16)).substr(-2)}function Bp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Up).join("")}async function Fp(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function $p(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Fp(t);return $p(n)}async function nn(t,e,n=!1){const r=Bp();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await cu(t,`${e}-code-verifier`,s);const i=await Vp(r);return[i,r===i?"plain":"s256"]}const zp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wp(t){const e=t.headers.get(Di);if(!e||!e.match(zp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class ho extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Gp extends ho{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qp(t){return z(t)&&t.name==="AuthApiError"}class uu extends ho{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Yt extends ho{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class It extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Vs extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _r extends Yt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wr extends Yt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vl extends Yt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ri extends Yt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function zs(t){return z(t)&&t.name==="AuthRetryableFetchError"}class zl extends Yt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Yp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Mt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qp=[502,503,504];async function Wl(t){var e;if(!Np(t))throw new Ri(Mt(t),0);if(Qp.includes(t.status))throw new Ri(Mt(t),t.status);let n;try{n=await t.json()}catch(i){throw new uu(Mt(i),i)}let r;const s=Wp(t);if(s&&s.getTime()>=lu["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zl(Mt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zl(Mt(n),t.status,n.weak_password.reasons);throw new Gp(Mt(n),t.status||500,r)}const Kp=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function G(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Di]||(i[Di]=lu["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Zp(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Zp(t,e,n,r,s,i){const o=Kp(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new Ri(Mt(a),0)}if(l.ok||await Wl(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Wl(a)}}function at(t){var e;let n=null;tm(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Mp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Gl(t){const e=at(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ht(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jp(t){return{data:t,error:null}}function Xp(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Yp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function em(t){return t}function tm(t){return t.access_token&&t.refresh_token&&t.expires_in}var nm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class rm{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=au(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ht})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=nm(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Xp,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ht})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:em});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return h.length>0&&(h.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ht})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ht})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ht})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}const sm={getItem:t=>Un()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Un()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Un()&&globalThis.localStorage.removeItem(t)}};function ql(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function im(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rn={debug:!!(globalThis&&Un()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class du extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class om extends du{}async function lm(t,e,n){rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new om(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(rn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}im();const am={url:Op,storageKey:xp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ip,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},kn=30*1e3,Yl=3;async function Ql(t,e,n){return await n()}class Kn{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kn.nextInstanceID,Kn.nextInstanceID+=1,this.instanceID>0&&je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},am),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new rm({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=au(s.fetch),this.lock=s.lock||Ql,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:je()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lm:this.lock=Ql,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Un()?this.storage=sm:(this.memoryStorage={},this.storage=ql(this.memoryStorage)):(this.memoryStorage={},this.storage=ql(this.memoryStorage)),je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ou}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=je()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return z(e)?{error:e}:{error:new uu("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{await this._removeSession();const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:at}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{await this._removeSession();let i;if("email"in e){const{email:c,password:d,options:f}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await nn(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:at})}else if("phone"in e){const{phone:c,password:d,options:f}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:at})}else throw new _r("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gl})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gl})}else throw new _r("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Vs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await br(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/"),{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:at});return await $s(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Vs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}async signInWithIdToken(e){await this._removeSession();try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:at}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Vs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if(await this._removeSession(),"email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await nn(this.storage,this.storageKey));const{error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new _r("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:at});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{await this._removeSession();let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await nn(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Jp})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new It;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await G(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await G(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new _r("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){const o=this.suppressGetSessionWarning;e=new Proxy(e,{get(a,u,c){return!o&&u==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(a,u,c)}})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ht}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ht})})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new It;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await nn(this.storage,this.storageKey));const{data:u,error:c}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:ht});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return $l(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new It;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=$l(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new It;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!je())throw new wr("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new wr("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Vl("Not a valid PKCE flow url.");const n=Fs(window.location.href);if(e){if(!n.code)throw new Vl("No code detected.");const{data:D,error:k}=await this._exchangeCodeForSession(n.code);if(k)throw k;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:D.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new wr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=n;if(!i||!l||!o||!u)throw new wr("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let f=c+d;a&&(f=parseInt(a));const h=f-c;h*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,f,c);const{data:v,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:n.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=Fs(window.location.href);return!!(je()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Fs(window.location.href),n=await br(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(qp(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await $s(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const n=Pp(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await nn(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return je()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(z(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Hp(async s=>(s>0&&await Lp(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:at})),(s,i)=>{const o=200*Math.pow(2,s);return i&&zs(i)&&Date.now()+o-r<kn})}catch(r){if(this._debug(n,"error",r),z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),je()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await br(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Fl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Fl}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),zs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new It;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),z(i)){const o={session:null,error:i};return zs(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await cu(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await $s(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${kn}ms, refresh threshold is ${Yl} ticks`),s<=Yl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof du)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await nn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:a}=await G(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}}Kn.nextInstanceID=0;const cm=Kn;class um extends cm{constructor(e){super(e)}}var dm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class fm{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Tp(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:wp,realtime:Ap,auth:Object.assign(Object.assign({},Ep),{storageKey:a}),global:_p},c=kp(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Rp(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new co(`${l}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Pg(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vp(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return dm(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,debug:l},a,u){var c;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new um({url:this.authUrl,headers:Object.assign(Object.assign({},d),a),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,debug:l,fetch:u,hasCustomAuthorizationHeader:(c="Authorization"in this.headers)!==null&&c!==void 0?c:!1})}_initRealtimeClient(e){return new sp(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hm=(t,e,n)=>new fm(t,e,n);var ys,U,fu,hu,bn,Ut,Kl,gu,pu,qr={},mu=[],gm=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function gt(t,e){for(var n in e)t[n]=e[n];return t}function vu(t){var e=t.parentNode;e&&e.removeChild(t)}function _(t,e,n){var r,s,i,o={};for(i in e)i=="key"?r=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?ys.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return Lr(t,o,r,s,null)}function Lr(t,e,n,r,s){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++fu};return s==null&&U.vnode!=null&&U.vnode(i),i}function rt(){return{current:null}}function ae(t){return t.children}function pm(t,e,n,r,s){var i;for(i in n)i==="children"||i==="key"||i in e||Yr(t,i,null,n[i],r);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===e[i]||Yr(t,i,e[i],n[i],r)}function Zl(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||gm.test(e)?n:n+"px"}function Yr(t,e,n,r,s){var i;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Zl(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Zl(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?Xl:Jl,i):t.removeEventListener(e,i?Xl:Jl,i);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function Jl(t){bn=!0;try{return this.l[t.type+!1](U.event?U.event(t):t)}finally{bn=!1}}function Xl(t){bn=!0;try{return this.l[t.type+!0](U.event?U.event(t):t)}finally{bn=!1}}function Oe(t,e){this.props=t,this.context=e}function Zn(t,e){if(e==null)return t.__?Zn(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Zn(t):null}function yu(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return yu(t)}}function mm(t){bn?setTimeout(t):gu(t)}function Ti(t){(!t.__d&&(t.__d=!0)&&Ut.push(t)&&!Qr.__r++||Kl!==U.debounceRendering)&&((Kl=U.debounceRendering)||mm)(Qr)}function Qr(){var t,e,n,r,s,i,o,l;for(Ut.sort(function(a,u){return a.__v.__b-u.__v.__b});t=Ut.shift();)t.__d&&(e=Ut.length,r=void 0,s=void 0,o=(i=(n=t).__v).__e,(l=n.__P)&&(r=[],(s=gt({},i)).__v=i.__v+1,go(l,i,s,n.__n,l.ownerSVGElement!==void 0,i.__h!=null?[o]:null,r,o??Zn(i),i.__h),Au(r,i),i.__e!=o&&yu(i)),Ut.length>e&&Ut.sort(function(a,u){return a.__v.__b-u.__v.__b}));Qr.__r=0}function bu(t,e,n,r,s,i,o,l,a,u){var c,d,f,h,m,v,y,w=r&&r.__k||mu,D=w.length;for(n.__k=[],c=0;c<e.length;c++)if((h=n.__k[c]=(h=e[c])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?Lr(null,h,null,null,h):Array.isArray(h)?Lr(ae,{children:h},null,null,null):h.__b>0?Lr(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(f=w[c])===null||f&&h.key==f.key&&h.type===f.type)w[c]=void 0;else for(d=0;d<D;d++){if((f=w[d])&&h.key==f.key&&h.type===f.type){w[d]=void 0;break}f=null}go(t,h,f=f||qr,s,i,o,l,a,u),m=h.__e,(d=h.ref)&&f.ref!=d&&(y||(y=[]),f.ref&&y.push(f.ref,null,h),y.push(d,h.__c||m,h)),m!=null?(v==null&&(v=m),typeof h.type=="function"&&h.__k===f.__k?h.__d=a=_u(h,a,t):a=wu(t,h,f,w,m,a),typeof n.type=="function"&&(n.__d=a)):a&&f.__e==a&&a.parentNode!=t&&(a=Zn(f))}for(n.__e=v,c=D;c--;)w[c]!=null&&(typeof n.type=="function"&&w[c].__e!=null&&w[c].__e==n.__d&&(n.__d=Eu(r).nextSibling),Cu(w[c],w[c]));if(y)for(c=0;c<y.length;c++)Su(y[c],y[++c],y[++c])}function _u(t,e,n){for(var r,s=t.__k,i=0;s&&i<s.length;i++)(r=s[i])&&(r.__=t,e=typeof r.type=="function"?_u(r,e,n):wu(n,r,r,s,r.__e,e));return e}function Kr(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Kr(n,e)}):e.push(t)),e}function wu(t,e,n,r,s,i){var o,l,a;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||s!=i||s.parentNode==null)e:if(i==null||i.parentNode!==t)t.appendChild(s),o=null;else{for(l=i,a=0;(l=l.nextSibling)&&a<r.length;a+=1)if(l==s)break e;t.insertBefore(s,i),o=i}return o!==void 0?o:s.nextSibling}function Eu(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=Eu(n)))return r}return null}function go(t,e,n,r,s,i,o,l,a){var u,c,d,f,h,m,v,y,w,D,k,O,j,I,H,N=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(a=n.__h,l=e.__e=n.__e,e.__h=null,i=[l]),(u=U.__b)&&u(e);try{e:if(typeof N=="function"){if(y=e.props,w=(u=N.contextType)&&r[u.__c],D=u?w?w.props.value:u.__:r,n.__c?v=(c=e.__c=n.__c).__=c.__E:("prototype"in N&&N.prototype.render?e.__c=c=new N(y,D):(e.__c=c=new Oe(y,D),c.constructor=N,c.render=ym),w&&w.sub(c),c.props=y,c.state||(c.state={}),c.context=D,c.__n=r,d=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),N.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=gt({},c.__s)),gt(c.__s,N.getDerivedStateFromProps(y,c.__s))),f=c.props,h=c.state,c.__v=e,d)N.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(N.getDerivedStateFromProps==null&&y!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(y,D),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(y,c.__s,D)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(c.props=y,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(ue){ue&&(ue.__=e)}),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(y,c.__s,D),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,h,m)})}if(c.context=D,c.props=y,c.__P=t,O=U.__r,j=0,"prototype"in N&&N.prototype.render){for(c.state=c.__s,c.__d=!1,O&&O(e),u=c.render(c.props,c.state,c.context),I=0;I<c._sb.length;I++)c.__h.push(c._sb[I]);c._sb=[]}else do c.__d=!1,O&&O(e),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++j<25);c.state=c.__s,c.getChildContext!=null&&(r=gt(gt({},r),c.getChildContext())),d||c.getSnapshotBeforeUpdate==null||(m=c.getSnapshotBeforeUpdate(f,h)),H=u!=null&&u.type===ae&&u.key==null?u.props.children:u,bu(t,Array.isArray(H)?H:[H],e,n,r,s,i,o,l,a),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),v&&(c.__E=c.__=null),c.__e=!1}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=vm(n.__e,e,n,r,s,i,o,a);(u=U.diffed)&&u(e)}catch(ue){e.__v=null,(a||i!=null)&&(e.__e=l,e.__h=!!a,i[i.indexOf(l)]=null),U.__e(ue,e,n)}}function Au(t,e){U.__c&&U.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){U.__e(r,n.__v)}})}function vm(t,e,n,r,s,i,o,l){var a,u,c,d=n.props,f=e.props,h=e.type,m=0;if(h==="svg"&&(s=!0),i!=null){for(;m<i.length;m++)if((a=i[m])&&"setAttribute"in a==!!h&&(h?a.localName===h:a.nodeType===3)){t=a,i[m]=null;break}}if(t==null){if(h===null)return document.createTextNode(f);t=s?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),i=null,l=!1}if(h===null)d===f||l&&t.data===f||(t.data=f);else{if(i=i&&ys.call(t.childNodes),u=(d=n.props||qr).dangerouslySetInnerHTML,c=f.dangerouslySetInnerHTML,!l){if(i!=null)for(d={},m=0;m<t.attributes.length;m++)d[t.attributes[m].name]=t.attributes[m].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(pm(t,f,d,s,l),c)e.__k=[];else if(m=e.props.children,bu(t,Array.isArray(m)?m:[m],e,n,r,s&&h!=="foreignObject",i,o,i?i[0]:n.__k&&Zn(n,0),l),i!=null)for(m=i.length;m--;)i[m]!=null&&vu(i[m]);l||("value"in f&&(m=f.value)!==void 0&&(m!==t.value||h==="progress"&&!m||h==="option"&&m!==d.value)&&Yr(t,"value",m,d.value,!1),"checked"in f&&(m=f.checked)!==void 0&&m!==t.checked&&Yr(t,"checked",m,d.checked,!1))}return t}function Su(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){U.__e(r,n)}}function Cu(t,e,n){var r,s;if(U.unmount&&U.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Su(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){U.__e(i,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&Cu(r[s],e,n||typeof t.type!="function");n||t.__e==null||vu(t.__e),t.__=t.__e=t.__d=void 0}function ym(t,e,n){return this.constructor(t,n)}function Jn(t,e,n){var r,s,i;U.__&&U.__(t,e),s=(r=typeof n=="function")?null:e.__k,i=[],go(e,t=(!r&&n||e).__k=_(ae,null,[t]),s||qr,qr,e.ownerSVGElement!==void 0,!r&&n?[n]:s?null:e.firstChild?ys.call(e.childNodes):null,i,!r&&n?n:s?s.__e:e.firstChild,r),Au(i,t)}function bm(t,e){var n={__c:e="__cC"+pu++,__:t,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(l){l.__e=!0,Ti(l)})},this.sub=function(o){s.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),l&&l.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ys=mu.slice,U={__e:function(t,e,n,r){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,r||{}),o=s.__d),o)return s.__E=s}catch(l){t=l}throw t}},fu=0,hu=function(t){return t!=null&&t.constructor===void 0},bn=!1,Oe.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=gt({},this.state),typeof t=="function"&&(t=t(gt({},n),this.props)),t&&gt(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ti(this))},Oe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ti(this))},Oe.prototype.render=ae,Ut=[],gu=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qr.__r=0,pu=0;var Qe,Ws,ea,Du=[],Gs=[],ta=U.__b,na=U.__r,ra=U.diffed,sa=U.__c,ia=U.unmount;function _m(){for(var t;t=Du.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Hr),t.__H.__h.forEach(ki),t.__H.__h=[]}catch(e){t.__H.__h=[],U.__e(e,t.__v)}}U.__b=function(t){Qe=null,ta&&ta(t)},U.__r=function(t){na&&na(t);var e=(Qe=t.__c).__H;e&&(Ws===Qe?(e.__h=[],Qe.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Gs,n.__N=n.i=void 0})):(e.__h.forEach(Hr),e.__h.forEach(ki),e.__h=[])),Ws=Qe},U.diffed=function(t){ra&&ra(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Du.push(e)!==1&&ea===U.requestAnimationFrame||((ea=U.requestAnimationFrame)||wm)(_m)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Gs&&(n.__=n.__V),n.i=void 0,n.__V=Gs})),Ws=Qe=null},U.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Hr),n.__h=n.__h.filter(function(r){return!r.__||ki(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],U.__e(r,n.__v)}}),sa&&sa(t,e)},U.unmount=function(t){ia&&ia(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Hr(r)}catch(s){e=s}}),n.__H=void 0,e&&U.__e(e,n.__v))};var oa=typeof requestAnimationFrame=="function";function wm(t){var e,n=function(){clearTimeout(r),oa&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);oa&&(e=requestAnimationFrame(n))}function Hr(t){var e=Qe,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Qe=e}function ki(t){var e=Qe;t.__c=t.__(),Qe=e}function Em(t,e){for(var n in e)t[n]=e[n];return t}function la(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function aa(t){this.props=t}(aa.prototype=new Oe).isPureReactComponent=!0,aa.prototype.shouldComponentUpdate=function(t,e){return la(this.props,t)||la(this.state,e)};var ca=U.__b;U.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ca&&ca(t)};var Am=U.__e;U.__e=function(t,e,n,r){if(t.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}Am(t,e,n,r)};var ua=U.unmount;function Ru(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Em({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return Ru(r,e,n)})),t}function Tu(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return Tu(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function qs(){this.__u=0,this.t=null,this.__b=null}function ku(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Er(){this.u=null,this.o=null}U.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),ua&&ua(t)},(qs.prototype=new Oe).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var s=ku(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,s?s(l):l())};n.__R=o;var l=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=Tu(u,u.__c.__P,u.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.t.pop();)c.forceUpdate()}},a=e.__h===!0;r.__u++||a||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},qs.prototype.componentWillUnmount=function(){this.t=[]},qs.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Ru(this.__b,n,r.__O=r.__P)}this.__b=null}var s=e.__a&&_(ae,null,t.fallback);return s&&(s.__h=null),[_(ae,null,e.__a?null:t.children),s]};var da=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Sm(t){return this.getChildContext=function(){return t.context},t.children}function Cm(t){var e=this,n=t.i;e.componentWillUnmount=function(){Jn(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Jn(_(Sm,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Dm(t,e){var n=_(Cm,{__v:t,i:e});return n.containerInfo=e,n}(Er.prototype=new Oe).__a=function(t){var e=this,n=ku(e.__v),r=e.o.get(t);return r[0]++,function(s){var i=function(){e.props.revealOrder?(r.push(s),da(e,t,r)):s()};n?n(i):i()}},Er.prototype.render=function(t){this.u=null,this.o=new Map;var e=Kr(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Er.prototype.componentDidUpdate=Er.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){da(t,n,e)})};var Rm=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Tm=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,km=typeof document<"u",Om=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Oe.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Oe.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var fa=U.event;function xm(){}function Im(){return this.cancelBubble}function Mm(){return this.defaultPrevented}U.event=function(t){return fa&&(t=fa(t)),t.persist=xm,t.isPropagationStopped=Im,t.isDefaultPrevented=Mm,t.nativeEvent=t};var ha={configurable:!0,get:function(){return this.class}},ga=U.vnode;U.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var i in r={},n){var o=n[i];km&&i==="children"&&e==="noscript"||i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!Om(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():s&&Tm.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),r[i]&&(i="oninputCapture")),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Kr(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Kr(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),t.props=r,n.class!=n.className&&(ha.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",ha))}t.$$typeof=Rm,ga&&ga(t)};var pa=U.__r;U.__r=function(t){pa&&pa(t),t.__c};const Ou=[],Oi=new Map;function xu(t){Ou.push(t),Oi.forEach(e=>{Mu(e,t)})}function Pm(t){t.isConnected&&t.getRootNode&&Iu(t.getRootNode())}function Iu(t){let e=Oi.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=jm();n&&(e.nonce=n);const r=t===document?document.head:t,s=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,s)}Oi.set(t,e),Nm(e)}}function Nm(t){for(const e of Ou)Mu(t,e)}function Mu(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((s,i)=>{s=s.trim(),s&&n.insertRule(s+"}",r+i)})}let Ys;function jm(){return Ys===void 0&&(Ys=Lm()),Ys}function Lm(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Iu(document);var Hm=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';xu(Hm);class po{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function mo(t){t.parentNode&&t.parentNode.removeChild(t)}function ve(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(Um(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function Um(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function Bm(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let s=0;s<n.length;s+=1){let i=n[s].querySelectorAll(e);for(let o=0;o<i.length;o+=1)r.push(i[o])}return r}const Fm=/(top|left|right|bottom|width|height)$/i;function Bn(t,e){for(let n in e)Pu(t,n,e[n])}function Pu(t,e,n){n==null?t.style[e]="":typeof n=="number"&&Fm.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function Nu(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let ma=0;function bs(){return ma+=1,"fc-dom-"+ma}function _s(t){t.preventDefault()}function $m(t,e){return n=>{let r=ve(n.target,t);r&&e.call(r,n,r)}}function ju(t,e,n,r){let s=$m(n,r);return t.addEventListener(e,s),()=>{t.removeEventListener(e,s)}}function Vm(t,e,n,r){let s;return ju(t,"mouseover",e,(i,o)=>{if(o!==s){s=o,n(i,o);let l=a=>{s=null,r(a,o),o.removeEventListener("mouseleave",l)};o.addEventListener("mouseleave",l)}})}const va=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function zm(t,e){let n=r=>{e(r),va.forEach(s=>{t.removeEventListener(s,n)})};va.forEach(r=>{t.addEventListener(r,n)})}function Lu(t){return Object.assign({onClick:t},Hu(t))}function Hu(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let ya=0;function Qt(){return ya+=1,String(ya)}function vo(){document.body.classList.add("fc-not-allowed")}function yo(){document.body.classList.remove("fc-not-allowed")}function Wm(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",_s)}function Gm(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",_s)}function qm(t){t.addEventListener("contextmenu",_s)}function Ym(t){t.removeEventListener("contextmenu",_s)}function Qm(t){let e=[],n=[],r,s;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)s=n[r],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function Km(t,e,n){let r,s;for(r=0;r<n.length;r+=1)if(s=Zm(t,e,n[r]),s)return s;return 0}function Zm(t,e,n){return n.func?n.func(t,e):Jm(t[n.field],e[n.field])*(n.order||1)}function Jm(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Qs(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Fn(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,s,i)=>r.replace("$"+i,s||""),t):n}function Xm(t,e){return t-e}function Ks(t){return t%1===0}function ev(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const tv=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Y(t,e){return typeof t=="string"?nv(t):typeof t=="object"&&t?ba(t):typeof t=="number"?ba({[e||"milliseconds"]:t}):null}function nv(t){let e=tv.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function ba(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function rv(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function sv(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function iv(t){return hn(t)/365}function ov(t){return hn(t)/30}function hn(t){return Xn(t)/864e5}function Xn(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function xi(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function wt(t,e,n){if(t===e)return!0;let r=t.length,s;if(r!==e.length)return!1;for(s=0;s<r;s+=1)if(!(n?n(t[s],e[s]):t[s]===e[s]))return!1;return!0}const lv=["sun","mon","tue","wed","thu","fri","sat"];function _a(t,e){let n=pt(t);return n[2]+=e*7,Se(n)}function ye(t,e){let n=pt(t);return n[2]+=e,Se(n)}function Et(t,e){let n=pt(t);return n[6]+=e,Se(n)}function av(t,e){return Sn(t,e)/7}function Sn(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function cv(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function uv(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function dv(t,e){return(e.valueOf()-t.valueOf())/1e3}function fv(t,e){let n=se(t),r=se(e);return{years:0,months:0,days:Math.round(Sn(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function hv(t,e){let n=Zr(t,e);return n!==null&&n%7===0?n/7:null}function Zr(t,e){return mt(t)===mt(e)?Math.round(Sn(t,e)):null}function se(t){return Se([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function gv(t){return Se([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function pv(t){return Se([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function mv(t){return Se([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function vv(t,e,n){let r=t.getUTCFullYear(),s=Zs(t,r,e,n);if(s<1)return Zs(t,r-1,e,n);let i=Zs(t,r+1,e,n);return i>=1?Math.min(s,i):s}function Zs(t,e,n,r){let s=Se([e,0,1+yv(e,n,r)]),i=se(t),o=Math.round(Sn(s,i));return Math.floor(o/7)+1}function yv(t,e,n){let r=7+e-n;return-((7+Se([t,0,r]).getUTCDay()-e)%7)+r-1}function wa(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function Ea(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function pt(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Se(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function Uu(t){return!isNaN(t.valueOf())}function mt(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function bv(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",_o(e,!0)))),r}function bo(t){return t.toISOString().replace(/T.*$/,"")}function _v(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function _o(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=Math.round(r%60);return e?`${n+Qs(s,2)}:${Qs(i,2)}`:`GMT${n}${s}${i?`:${Qs(i,2)}`:""}`}function Q(t,e,n){let r,s;return function(...i){if(!r)s=t.apply(this,i);else if(!wt(r,i)){let o=t.apply(this,i);(!e||!e(o,s))&&(s=o)}return r=i,s}}function Ur(t,e,n){let r,s;return i=>(r?Je(r,i)||(s=t.call(this,i)):s=t.call(this,i),r=i,s)}const Aa={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Jr={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Ar=/\s*([ap])\.?m\.?/i,wv=/,/g,Ev=/\s+/g,Av=/\u200e/g,Sv=/UTC|GMT/;class Cv{constructor(e){let n={},r={},s=0;for(let i in e)i in Aa?(r[i]=e[i],s=Math.max(Aa[i],s)):(n[i]=e[i],i in Jr&&(s=Math.max(Jr[i],s)));this.standardDateProps=n,this.extendedSettings=r,this.severity=s,this.buildFormattingFunc=Q(Sa)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,s){let{standardDateProps:i,extendedSettings:o}=this,l=xv(e.marker,n.marker,r.calendarSystem);if(!l)return this.format(e,r);let a=l;a>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(a=1);let u=this.format(e,r),c=this.format(n,r);if(u===c)return u;let d=Iv(i,a),f=Sa(d,o,r),h=f(e),m=f(n),v=Mv(u,h,c,m),y=o.separator||s||r.defaultSeparator||"";return v?v.before+h+y+m+v.after:u+y+c}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Sa(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?s=>_o(s.timeZoneOffset):r===0&&e.week?s=>Ov(n.computeWeekNumber(s.marker),n.weekText,n.weekTextLong,n.locale,e.week):Dv(t,e,n)}function Dv(t,e,n){t=Object.assign({},t),e=Object.assign({},e),Rv(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),s;if(e.omitZeroMinute){let i=Object.assign({},t);delete i.minute,s=new Intl.DateTimeFormat(n.locale.codes,i)}return i=>{let{marker:o}=i,l;s&&!o.getUTCMinutes()?l=s:l=r;let a=l.format(o);return Tv(a,i,t,e,n)}}function Rv(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Tv(t,e,n,r,s){return t=t.replace(Av,""),n.timeZoneName==="short"&&(t=kv(t,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":_o(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(wv,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Ar,"").trim():r.meridiem==="narrow"?t=t.replace(Ar,(i,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(Ar,(i,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(Ar,i=>i.toLocaleLowerCase())),t=t.replace(Ev," "),t=t.trim(),t}function kv(t,e){let n=!1;return t=t.replace(Sv,()=>(n=!0,e)),n||(t+=` ${e}`),t}function Ov(t,e,n,r,s){let i=[];return s==="long"?i.push(n):(s==="short"||s==="narrow")&&i.push(e),(s==="long"||s==="short")&&i.push(" "),i.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&i.reverse(),i.join("")}function xv(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:mt(t)!==mt(e)?1:0}function Iv(t,e){let n={};for(let r in t)(!(r in Jr)||Jr[r]<=e)&&(n[r]=t[r]);return n}function Mv(t,e,n,r){let s=0;for(;s<t.length;){let i=t.indexOf(e,s);if(i===-1)break;let o=t.substr(0,i);s=i+e.length;let l=t.substr(s),a=0;for(;a<n.length;){let u=n.indexOf(r,a);if(u===-1)break;let c=n.substr(0,u);a=u+r.length;let d=n.substr(a);if(o===c&&l===d)return{before:o,after:l}}}return null}function Ca(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Xr(t,e,n,r){let s=Ca(t,n.calendarSystem),i=e?Ca(e,n.calendarSystem):null;return{date:s,start:s,end:i,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class Pv{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,Xr(e,null,n,r))}formatRange(e,n,r,s){return r.cmdFormatter(this.cmdStr,Xr(e,n,r,s))}}class Nv{constructor(e){this.func=e}format(e,n,r){return this.func(Xr(e,null,n,r))}formatRange(e,n,r,s){return this.func(Xr(e,n,r,s))}}function fe(t){return typeof t=="object"&&t?new Cv(t):typeof t=="string"?new Pv(t):typeof t=="function"?new Nv(t):null}const Da={navLinkDayClick:b,navLinkWeekClick:b,duration:Y,bootstrapFontAwesome:b,buttonIcons:b,customButtons:b,defaultAllDayEventDuration:Y,defaultTimedEventDuration:Y,nextDayThreshold:Y,scrollTime:Y,scrollTimeReset:Boolean,slotMinTime:Y,slotMaxTime:Y,dayPopoverFormat:fe,slotDuration:Y,snapDuration:Y,headerToolbar:b,footerToolbar:b,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:fe,dayHeaderClassNames:b,dayHeaderContent:b,dayHeaderDidMount:b,dayHeaderWillUnmount:b,dayCellClassNames:b,dayCellContent:b,dayCellDidMount:b,dayCellWillUnmount:b,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:b,weekNumbers:Boolean,weekNumberClassNames:b,weekNumberContent:b,weekNumberDidMount:b,weekNumberWillUnmount:b,editable:Boolean,viewClassNames:b,viewDidMount:b,viewWillUnmount:b,nowIndicator:Boolean,nowIndicatorClassNames:b,nowIndicatorContent:b,nowIndicatorDidMount:b,nowIndicatorWillUnmount:b,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:b,locale:b,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:b,eventOrder:Qm,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:b,contentHeight:b,direction:String,weekNumberFormat:fe,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:b,initialDate:b,now:b,eventDataTransform:b,stickyHeaderDates:b,stickyFooterScrollbar:b,viewHeight:b,defaultAllDay:Boolean,eventSourceFailure:b,eventSourceSuccess:b,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:b,eventConstraint:b,eventAllow:b,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:b,eventContent:b,eventDidMount:b,eventWillUnmount:b,selectConstraint:b,selectOverlap:b,selectAllow:b,droppable:Boolean,unselectCancel:String,slotLabelFormat:b,slotLaneClassNames:b,slotLaneContent:b,slotLaneDidMount:b,slotLaneWillUnmount:b,slotLabelClassNames:b,slotLabelContent:b,slotLabelDidMount:b,slotLabelWillUnmount:b,dayMaxEvents:b,dayMaxEventRows:b,dayMinWidth:Number,slotLabelInterval:Y,allDayText:String,allDayClassNames:b,allDayContent:b,allDayDidMount:b,allDayWillUnmount:b,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:fe,rerenderDelay:Number,moreLinkText:b,moreLinkHint:b,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:b,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Y,hiddenDays:b,fixedWeekCount:Boolean,validRange:b,visibleRange:b,titleFormat:b,eventInteractive:Boolean,noEventsText:String,viewHint:b,navLinkHint:b,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:b,moreLinkClassNames:b,moreLinkContent:b,moreLinkDidMount:b,moreLinkWillUnmount:b,monthStartFormat:fe,handleCustomRendering:b,customRenderingMetaMap:b,customRenderingReplaces:Boolean},$n={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Ra={datesSet:b,eventsSet:b,eventAdd:b,eventChange:b,eventRemove:b,windowResize:b,eventClick:b,eventMouseEnter:b,eventMouseLeave:b,select:b,unselect:b,loading:b,_unmount:b,_beforeprint:b,_afterprint:b,_noEventDrop:b,_noEventResize:b,_resize:b,_scrollRequest:b},Ta={buttonText:b,buttonHints:b,views:b,plugins:b,initialEvents:b,events:b,eventSources:b},Pt={headerToolbar:Nt,footerToolbar:Nt,buttonText:Nt,buttonHints:Nt,buttonIcons:Nt,dateIncrement:Nt,plugins:Sr,events:Sr,eventSources:Sr,resources:Sr};function Nt(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Je(t,e):t===e}function Sr(t,e){return Array.isArray(t)&&Array.isArray(e)?wt(t,e):t===e}const jv={type:String,component:b,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:b,usesMinMaxTime:Boolean,classNames:b,content:b,didMount:b,willUnmount:b};function Js(t){return Eo(t,Pt)}function wo(t,e){let n={},r={};for(let s in e)s in t&&(n[s]=e[s](t[s]));for(let s in t)s in e||(r[s]=t[s]);return{refined:n,extra:r}}function b(t){return t}const{hasOwnProperty:es}=Object.prototype;function Eo(t,e){let n={};if(e){for(let r in e)if(e[r]===Nt){let s=[];for(let i=t.length-1;i>=0;i-=1){let o=t[i][r];if(typeof o=="object"&&o)s.unshift(o);else if(o!==void 0){n[r]=o;break}}s.length&&(n[r]=Eo(s))}}for(let r=t.length-1;r>=0;r-=1){let s=t[r];for(let i in s)i in n||(n[i]=s[i])}return n}function Gt(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function Kt(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function Bu(t){let e={};for(let n of t)e[n]=!0;return e}function Ao(t){let e=[];for(let n in t)e.push(t[n]);return e}function Je(t,e){if(t===e)return!0;for(let n in t)if(es.call(t,n)&&!(n in e))return!1;for(let n in e)if(es.call(e,n)&&t[n]!==e[n])return!1;return!0}const Lv=/^on[A-Z]/;function Hv(t,e){const n=Ii(t,e);for(let r of n)if(!Lv.test(r))return!1;return!0}function Ii(t,e){let n=[];for(let r in t)es.call(t,r)&&(r in e||n.push(r));for(let r in e)es.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function Xs(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&Uv(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function Uv(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function Bv(t,e=0,n,r=1){let s=[];n==null&&(n=Object.keys(t).length);for(let i=e;i<n;i+=r){let o=t[i];o!==void 0&&s.push(o)}return s}let Fu={};function Fv(t,e){Fu[t]=e}function $v(t){return new Fu[t]}class Vv{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Se(e)}markerToArray(e){return pt(e)}}Fv("gregory",Vv);const zv=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Wv(t){let e=zv.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Uu(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class Gv{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=$v(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Se(wa(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Se(e)),n===null||!Uu(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=Wv(e);if(n===null)return null;let{marker:r}=n,s=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):s=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return mt(e)===mt(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return mt(e)===mt(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=hv(e,n),r!==null?{unit:"week",value:r}:(r=Zr(e,n),r!==null?{unit:"day",value:r}:(r=cv(e,n),Ks(r)?{unit:"hour",value:r}:(r=uv(e,n),Ks(r)?{unit:"minute",value:r}:(r=dv(e,n),Ks(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let s;return r.years&&(s=this.diffWholeYears(e,n),s!==null)?s/iv(r):r.months&&(s=this.diffWholeMonths(e,n),s!==null)?s/ov(r):r.days&&(s=Zr(e,n),s!==null)?s/hn(r):(n.valueOf()-e.valueOf())/Xn(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?se(e):n==="hour"?gv(e):n==="minute"?pv(e):n==="second"?mv(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):vv(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,s={}){return s.isEndExclusive&&(n=Et(n,-1)),r.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(n)},this,s.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),bv(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Se(wa(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Se(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-Ea(pt(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(pt(e)):null}toDate(e,n){return this.timeZone==="local"?Ea(pt(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(pt(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class sr{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}sr.prototype.classes={};sr.prototype.iconClasses={};sr.prototype.baseIconClass="";sr.prototype.iconOverridePrefix="";function ts(t){t();let e=U.debounceRendering,n=[];function r(s){n.push(s)}for(U.debounceRendering=r,Jn(_(qv,{}),document.createElement("div"));n.length;)n.shift()();U.debounceRendering=e}class qv extends Oe{render(){return _("div",{})}componentDidMount(){this.setState({})}}function $u(t){let e=bm(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,s=n.apply(this,arguments);if(r){let i=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&i.forEach(l=>{l.context=o.value,l.forceUpdate()})},this.sub=o=>{i.push(o);let l=o.componentWillUnmount;o.componentWillUnmount=()=>{i.splice(i.indexOf(o),1),l&&l.call(o)}}}return s},e}class Yv{constructor(e,n,r,s){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=s,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Zt=$u({});function Qv(t,e,n,r,s,i,o,l,a,u,c,d,f){return{dateEnv:s,options:n,pluginHooks:o,emitter:u,dispatch:l,getCurrentData:a,calendarApi:c,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:i,isRtl:n.direction==="rtl",addResizeHandler(h){u.on("_resize",h)},removeResizeHandler(h){u.off("_resize",h)},createScrollResponder(h){return new Yv(h,u,Y(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:d,unregisterInteractiveComponent:f}}class Jt extends Oe{shouldComponentUpdate(e,n){return this.debug&&console.log(Ii(e,this.props),Ii(n,this.state)),!Xs(this.props,e,this.propEquality)||!Xs(this.state,n,this.stateEquality)}safeSetState(e){Xs(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Jt.addPropsEquality=Kv;Jt.addStateEquality=Zv;Jt.contextType=Zt;Jt.prototype.propEquality={};Jt.prototype.stateEquality={};class le extends Jt{}le.contextType=Zt;function Kv(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function Zv(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function st(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class So extends le{constructor(){super(...arguments),this.id=Qt(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!Mi(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&st(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:s,defaultGenerator:i,renderProps:o}=e,l=Vu(e,[],this.handleEl);let a=!1,u,c=[],d;if(s!=null){const f=typeof s=="function"?s(o,_):s;if(f===!0)a=!0;else{const h=f&&typeof f=="object";h&&"html"in f?l.dangerouslySetInnerHTML={__html:f.html}:h&&"domNodes"in f?c=Array.prototype.slice.call(f.domNodes):(h?hu(f):typeof f!="function")?u=f:d=f}}else a=!Mi(e.generatorName,r);return a&&i&&(u=i(o)),this.queuedDomNodes=c,this.currentGeneratorMeta=d,_(e.elTag,l,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:s}=this,{handleCustomRendering:i,customRenderingMetaMap:o}=s.options;if(i){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];l&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},r),{elClasses:(r.elClasses||[]).filter(Jv)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!wt(e,n)){n.forEach(mo);for(let s of e)r.appendChild(s);this.currentDomNodes=e}}}So.addPropsEquality({elClasses:wt,elStyle:Je,elAttrs:Hv,renderProps:Je});function Mi(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function Vu(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function Jv(t){return!!t}const zu=$u(0);class ot extends Oe{constructor(){super(...arguments),this.InnerContent=Xv.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(st(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=ey(e.classNameGenerator,e.renderProps);if(e.children){const r=Vu(e,n,this.handleEl),s=e.children(this.InnerContent,e.renderProps,r);return e.elTag?_(e.elTag,r,s):s}else return _(So,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ot.contextType=zu;function Xv(t,e){const n=t.props;return _(So,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function ey(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class ka extends le{render(){let{props:e,context:n}=this,{options:r}=n,s={view:n.viewApi};return _(ot,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...Wu(e.viewSpec),...e.elClasses||[]],renderProps:s,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function Wu(t){return[`fc-${t.type}-view`,"fc-view"]}function ty(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function Oa(t,e){let n=[],{start:r}=e,s,i;for(t.sort(ny),s=0;s<t.length;s+=1)i=t[s],i.start>r&&n.push({start:r,end:i.start}),i.end>r&&(r=i.end);return r<e.end&&n.push({start:r,end:e.end}),n}function ny(t,e){return t.start.valueOf()-e.start.valueOf()}function _n(t,e){let{start:n,end:r}=t,s=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(s={start:n,end:r}),s}function ry(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Co(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function ws(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function bt(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function sy(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Gu(t){let e=Math.floor(Sn(t.start,t.end))||1,n=se(t.start),r=ye(n,e);return{start:n,end:r}}function qu(t,e=Y(0)){let n=null,r=null;if(t.end){r=se(t.end);let s=t.end.valueOf()-r.valueOf();s&&s>=Xn(e)&&(r=ye(r,1))}return t.start&&(n=se(t.start),r&&r<=n&&(r=ye(n,1))),{start:n,end:r}}function ln(t,e,n,r){return r==="year"?Y(n.diffWholeYears(t,e),"year"):r==="month"?Y(n.diffWholeMonths(t,e),"month"):fv(t,e)}function iy(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function oy(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):ir(t.now,e)}function ir(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}class Yu{constructor(e){this.props=e,this.nowDate=ir(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:s}=this.props,i=s.subtract(s.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,r)}buildNext(e,n,r){let{dateEnv:s}=this.props,i=s.add(s.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,r)}build(e,n,r=!0){let{props:s}=this,i,o,l,a,u,c;return i=this.buildValidRange(),i=this.trimHiddenDays(i),r&&(e=sy(e,i)),o=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(o.unit),a=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,l),a=this.trimHiddenDays(a),u=a,s.showNonCurrentDates||(u=_n(u,o.range)),u=this.adjustActiveRange(u),u=_n(u,i),c=Co(o.range,i),bt(a,e)||(e=a.start),{currentDate:e,validRange:i,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:l,activeRange:u,renderRange:a,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:c,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,s=null,i=null,o=null,l;return r.duration?(s=r.duration,i=r.durationUnit,o=this.buildRangeFromDuration(e,n,s,i)):(l=this.props.dayCount)?(i="day",o=this.buildRangeFromDayCount(e,n,l)):(o=this.buildCustomVisibleRange(e))?i=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(s=this.getFallbackDuration(),i=xi(s).unit,o=this.buildRangeFromDuration(e,n,s,i)),{duration:s,unit:i,range:o}}getFallbackDuration(){return Y({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:s,slotMaxTime:i}=this.props,{start:o,end:l}=e;return r&&(hn(s)<0&&(o=se(o),o=n.add(o,s)),hn(i)>1&&(l=se(l),l=ye(l,-1),l=n.add(l,i))),{start:o,end:l}}buildRangeFromDuration(e,n,r,s){let{dateEnv:i,dateAlignment:o}=this.props,l,a,u;if(!o){let{dateIncrement:d}=this.props;d&&Xn(d)<Xn(r)?o=xi(d).unit:o=s}hn(r)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=se(l));function c(){l=i.startOf(e,o),a=i.add(l,r),u={start:l,end:a}}return c(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,n),c()),u}buildRangeFromDayCount(e,n,r){let{dateEnv:s,dateAlignment:i}=this.props,o=0,l=e,a;i&&(l=s.startOf(l,i)),l=se(l),l=this.skipHiddenDays(l,n),a=l;do a=ye(a,1),this.isHiddenDay(a)||(o+=1);while(o<r);return{start:l,end:a}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,s=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,i=this.refineRange(s);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?Y(1,r):e||Y({days:1}))}refineRange(e){if(e){let n=ty(e,this.props.dateEnv);return n&&(n=qu(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(n[s]=e.indexOf(s)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=ye(e,n);return e}}function Do(t,e,n,r){return{instanceId:Qt(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function ly(t,e,n,r){for(let s=0;s<r.length;s+=1){let i=r[s].parse(t,n);if(i){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=i.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:i.duration,typeData:i.typeData,typeId:s}}}return null}function qt(t,e,n){let{dateEnv:r,pluginHooks:s,options:i}=n,{defs:o,instances:l}=t;l=Gt(l,a=>!o[a.defId].recurringDef);for(let a in o){let u=o[a];if(u.recurringDef){let{duration:c}=u.recurringDef;c||(c=u.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let d=ay(u,c,e,r,s.recurringTypes);for(let f of d){let h=Do(a,{start:f,end:r.add(f,c)});l[h.instanceId]=h}}}return{defs:o,instances:l}}function ay(t,e,n,r,s){let o=s[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(se)),o}const Br={id:String,groupId:String,title:String,url:String,interactive:Boolean},Qu={start:b,end:b,date:b,allDay:Boolean},cy=Object.assign(Object.assign(Object.assign({},Br),Qu),{extendedProps:b});function Ku(t,e,n,r,s=Ro(n),i,o){let{refined:l,extra:a}=Zu(t,n,s),u=dy(e,n),c=ly(l,u,n.dateEnv,n.pluginHooks.recurringTypes);if(c){let f=Pi(l,a,e?e.sourceId:"",c.allDay,!!c.duration,n,i);return f.recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:f,instance:null}}let d=uy(l,u,n,r);if(d){let f=Pi(l,a,e?e.sourceId:"",d.allDay,d.hasEnd,n,i),h=Do(f.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&f.publicId&&o[f.publicId]&&(h.instanceId=o[f.publicId]),{def:f,instance:h}}return null}function Zu(t,e,n=Ro(e)){return wo(t,n)}function Ro(t){return Object.assign(Object.assign(Object.assign({},ns),cy),t.pluginHooks.eventRefiners)}function Pi(t,e,n,r,s,i,o){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Qt(),sourceId:n,allDay:r,hasEnd:s,interactive:t.interactive,ui:rs(t,i),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let a of i.pluginHooks.eventDefMemberAdders)Object.assign(l,a(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function uy(t,e,n,r){let{allDay:s}=t,i,o=null,l=!1,a,u=null,c=t.start!=null?t.start:t.date;if(i=n.dateEnv.createMarkerMeta(c),i)o=i.marker;else if(!r)return null;return t.end!=null&&(a=n.dateEnv.createMarkerMeta(t.end)),s==null&&(e!=null?s=e:s=(!i||i.isTimeUnspecified)&&(!a||a.isTimeUnspecified)),s&&o&&(o=se(o)),a&&(u=a.marker,s&&(u=se(u)),o&&u<=o&&(u=null)),u?l=!0:r||(l=n.options.forceEventDuration||!1,u=n.dateEnv.add(o,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:s,hasEnd:l,range:{start:o,end:u},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:a?a.forcedTzo:null}}function dy(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function er(t,e,n,r,s,i){let o=Fe(),l=Ro(n);for(let a of t){let u=Ku(a,e,n,r,l,s,i);u&&Ni(u,o)}return o}function Ni(t,e=Fe()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function To(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],s=Es(t,i=>fy(r,i));return s.defs[r.defId]=r,s.instances[n.instanceId]=n,s}return Fe()}function fy(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Fe(){return{defs:{},instances:{}}}function ko(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Es(t,e){let n=Gt(t.defs,e),r=Gt(t.instances,s=>n[s.defId]);return{defs:n,instances:r}}function hy(t,e){let{defs:n,instances:r}=t,s={},i={};for(let o in n)e.defs[o]||(s[o]=n[o]);for(let o in r)!e.instances[o]&&s[r[o].defId]&&(i[o]=r[o]);return{defs:s,instances:i}}function gy(t,e){return Array.isArray(t)?er(t,null,e,!0):typeof t=="object"&&t?er([t],null,e,!0):t!=null?String(t):null}function xa(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const ns={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:b,overlap:b,allow:b,className:xa,classNames:xa,color:String,backgroundColor:String,borderColor:String,textColor:String},py={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function rs(t,e){let n=gy(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function my(t){return t.reduce(vy,py)}function vy(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const yy={id:String,defaultAllDay:Boolean,url:String,format:String,events:b,eventDataTransform:b,success:b,failure:b};function Ju(t,e,n=Xu(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:s,extra:i}=wo(r,n),o=by(s,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Qt(),sourceDefId:o.sourceDefId,meta:o.meta,ui:rs(s,e),extendedProps:i}}return null}function Xu(t){return Object.assign(Object.assign(Object.assign({},ns),yy),t.pluginHooks.eventSourceRefiners)}function by(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let i=n[r].parseMeta(t);if(i)return{sourceDefId:r,meta:i}}return null}function _y(t,e,n,r,s){switch(e.type){case"RECEIVE_EVENTS":return wy(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return Ey(t,n[e.sourceId],e.rawEvents,r.activeRange,s);case"ADD_EVENTS":return Ay(t,e.eventStore,r?r.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return ko(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?qt(t,r.activeRange,s):t;case"REMOVE_EVENTS":return hy(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return td(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Es(t,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return Fe();default:return t}}function wy(t,e,n,r,s,i){if(e&&n===e.latestFetchId){let o=er(ed(s,e,i),e,i);return r&&(o=qt(o,r,i)),ko(td(t,e.sourceId),o)}return t}function Ey(t,e,n,r,s){const{defIdMap:i,instanceIdMap:o}=Cy(t);let l=er(ed(n,e,s),e,s,!1,i,o);return qt(l,r,s)}function ed(t,e,n){let r=n.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(t=Ia(t,s)),r&&(t=Ia(t,r)),t}function Ia(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let s=e(r);s?n.push(s):s==null&&n.push(r)}}return n}function Ay(t,e,n,r){return n&&(e=qt(e,n,r)),ko(t,e)}function Ma(t,e,n){let{defs:r}=t,s=Kt(t.instances,i=>r[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:n.createMarker(e.toDate(i.range.start,i.forcedStartTzo)),end:n.createMarker(e.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:i.forcedEndTzo}));return{defs:r,instances:s}}function td(t,e){return Es(t,n=>n.sourceId!==e)}function Sy(t,e){return{defs:t.defs,instances:Gt(t.instances,n=>!e[n.instanceId])}}function Cy(t){const{defs:e,instances:n}=t,r={},s={};for(let i in e){const o=e[i],{publicId:l}=o;l&&(r[l]=i)}for(let i in n){const o=n[i],l=e[o.defId],{publicId:a}=l;a&&(s[a]=i)}return{defIdMap:r,instanceIdMap:s}}class As{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){Dy(this.handlers,e,n)}off(e,n){Ry(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],s=this.options&&this.options[e],i=[].concat(s||[],r);for(let o of i)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Dy(t,e,n){(t[e]||(t[e]=[])).push(n)}function Ry(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const Ty={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function ky(t,e){return er(Oy(t),null,e)}function Oy(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},Ty),n)),e}function nd(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},Oo(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function xy(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Oo(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,Gy(t,e.dateEnv)),n}function Pa(t,e,n){let{dateEnv:r,options:s}=n,i=e;return t?(i=se(i),i=r.add(i,s.defaultAllDayEventDuration)):i=r.add(i,s.defaultTimedEventDuration),i}function xo(t,e,n,r){let s=ss(t.defs,e),i=Fe();for(let o in t.defs){let l=t.defs[o];i.defs[o]=Iy(l,s[o],n,r)}for(let o in t.instances){let l=t.instances[o],a=i.defs[l.defId];i.instances[o]=My(l,a,s[l.defId],n,r)}return i}function Iy(t,e,n,r){let s=n.standardProps||{};s.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(s.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},t),s),{ui:Object.assign(Object.assign({},t.ui),s.ui)});n.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(i,n,r);return!i.hasEnd&&r.options.forceEventDuration&&(i.hasEnd=!0),i}function My(t,e,n,r,s){let{dateEnv:i}=s,o=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,a=Object.assign({},t);return o&&(a.range=Gu(a.range)),r.datesDelta&&n.startEditable&&(a.range={start:i.add(a.range.start,r.datesDelta),end:i.add(a.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(a.range={start:i.add(a.range.start,r.startDelta),end:a.range.end}),r.endDelta&&n.durationEditable&&(a.range={start:a.range.start,end:i.add(a.range.end,r.endDelta)}),l&&(a.range={start:a.range.start,end:Pa(e.allDay,a.range.start,s)}),e.allDay&&(a.range={start:se(a.range.start),end:se(a.range.end)}),a.range.end<a.range.start&&(a.range.end=Pa(e.allDay,a.range.start,s)),a}class on{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ie{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in Qu)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Br[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Br)n=Br[e](n),this.mutate({standardProps:{[e]:n}});else if(e in ns){let r=ns[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,s=r.createMarker(e);if(s&&this._instance){let i=this._instance.range,o=ln(i.start,s,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,s;if(!(e!=null&&(s=r.createMarker(e),!s))&&this._instance)if(s){let i=ln(this._instance.range.end,s,r,n.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:s}=this._context,i={allDay:r.allDay},o=s.createMarker(e),l;if(o&&!(n!=null&&(l=s.createMarker(n),!l))&&this._instance){let a=this._instance.range;r.allDay===!0&&(a=Gu(a));let u=ln(a.start,o,s,r.granularity);if(l){let c=ln(a.end,l,s,r.granularity);rv(u,c)?this.mutate({datesDelta:u,standardProps:i}):this.mutate({startDelta:u,endDelta:c,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:u,standardProps:i})}}moveStart(e){let n=Y(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=Y(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=Y(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:s}=n;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=s),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,s=fe(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,s,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,s,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,s=this._context,{eventStore:i}=s.getCurrentData(),o=To(i,n.instanceId);o=xo(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let a=new ie(s,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:o}),s.emitter.trigger("eventChange",{oldEvent:a,event:this,relatedEvents:zt(o,s,n),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,n=rd(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new on(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:s,endStr:i}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),s&&(o.start=s),i&&(o.end=i),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function rd(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function zt(t,e,n){let{defs:r,instances:s}=t,i=[],o=n?n.instanceId:"";for(let l in s){let a=s[l],u=r[a.defId];a.instanceId!==o&&i.push(new ie(e,u,a))}return i}function Na(t,e,n,r){let s={},i={},o={},l=[],a=[],u=ss(t.defs,e);for(let c in t.defs){let d=t.defs[c];u[d.defId].display==="inverse-background"&&(d.groupId?(s[d.groupId]=[],o[d.groupId]||(o[d.groupId]=d)):i[c]=[])}for(let c in t.instances){let d=t.instances[c],f=t.defs[d.defId],h=u[f.defId],m=d.range,v=!f.allDay&&r?qu(m,r):m,y=_n(v,n);y&&(h.display==="inverse-background"?f.groupId?s[f.groupId].push(y):i[d.defId].push(y):h.display!=="none"&&(h.display==="background"?l:a).push({def:f,ui:h,instance:d,range:y,isStart:v.start&&v.start.valueOf()===y.start.valueOf(),isEnd:v.end&&v.end.valueOf()===y.end.valueOf()}))}for(let c in s){let d=s[c],f=Oa(d,n);for(let h of f){let m=o[c],v=u[m.defId];l.push({def:m,ui:v,instance:null,range:h,isStart:!1,isEnd:!1})}}for(let c in i){let d=i[c],f=Oa(d,n);for(let h of f)l.push({def:t.defs[c],ui:u[c],instance:null,range:h,isStart:!1,isEnd:!1})}return{bg:l,fg:a}}function ja(t,e){t.fcSeg=e}function wn(t){return t.fcSeg||t.parentNode.fcSeg||null}function ss(t,e){return Kt(t,n=>sd(n,e))}function sd(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),my(n)}function Py(t,e){let n=t.map(Ny);return n.sort((r,s)=>Km(r,s,e)),n.map(r=>r._seg)}function Ny(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,s=r.start?r.start.valueOf():0,i=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:s,end:i,duration:i-s,allDay:Number(n.allDay),_seg:t})}function jy(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:s,ui:i}=t.eventRange,o=i.startEditable;for(let l of r)o=l(o,s,i,e);return o}function Ly(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Hy(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function id(t,e,n,r,s,i,o){let{dateEnv:l,options:a}=n,{displayEventTime:u,displayEventEnd:c}=a,d=t.eventRange.def,f=t.eventRange.instance;u==null&&(u=r!==!1),c==null&&(c=s!==!1);let h=f.range.start,m=f.range.end,v=t.start||t.eventRange.range.start,y=t.end||t.eventRange.range.end,w=se(h).valueOf()===se(v).valueOf(),D=se(Et(m,-1)).valueOf()===se(Et(y,-1)).valueOf();return u&&!d.allDay&&(w||D)?(v=w?h:v,y=D?m:y,c&&d.hasEnd?l.formatRange(v,y,e,{forcedStartTzo:f.forcedStartTzo,forcedEndTzo:f.forcedEndTzo}):l.format(v,e,{forcedTzo:f.forcedStartTzo})):""}function Vn(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&bt(e,r.start)}}function Uy(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function By(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function od(t,e){let{def:n,instance:r}=t.eventRange,{url:s}=n;if(s)return{href:s};let{emitter:i,options:o}=e,{eventInteractive:l}=o;return l==null&&(l=n.interactive,l==null&&(l=!!i.hasHandlers("eventClick"))),l?Hu(a=>{i.trigger("eventClick",{el:a.target,event:new ie(e,n,r),jsEvent:a,view:e.viewApi})}):{}}const Fy={start:b,end:b,allDay:Boolean};function $y(t,e,n){let r=Vy(t,e),{range:s}=r;if(!s.start)return null;if(!s.end){if(n==null)return null;s.end=e.add(s.start,n)}return r}function Vy(t,e){let{refined:n,extra:r}=wo(t,Fy),s=n.start?e.createMarkerMeta(n.start):null,i=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=s&&s.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:i?i.marker:null},allDay:o},r)}function zy(t,e){return ry(t.range,e.range)&&t.allDay===e.allDay&&Wy(t,e)}function Wy(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function Gy(t,e){return Object.assign(Object.assign({},ad(t.range,e,t.allDay)),{allDay:t.allDay})}function ld(t,e,n){return Object.assign(Object.assign({},ad(t,e,n)),{timeZone:e.timeZone})}function ad(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function qy(t,e,n){let r=Zu({editable:!1},n),s=Pi(r.refined,r.extra,"",t.allDay,!0,n);return{def:s,ui:sd(s,e),instance:Do(s.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function Yy(t,e,n){let r=!1,s=function(l){r||(r=!0,e(l))},i=function(l){r||(r=!0,n(l))},o=t(s,i);o&&typeof o.then=="function"&&o.then(s,i)}class La extends Error{constructor(e,n){super(e),this.response=n}}function Qy(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(s=>{if(s.ok)return s.json().then(i=>[i,s],()=>{throw new La("Failure parsing JSON",s)});throw new La("Request failed",s)})}let ei;function cd(){return ei==null&&(ei=Ky()),ei}function Ky(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class Zy extends le{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{ts(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{ts(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,s=r||n.height==="auto"||n.contentHeight==="auto",i=!s&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return cd()||o.push("fc-liquid-hack"),e.children(o,i,s,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Cn{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Jy(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Io(t){return{[t.component.uid]:t}}const ji={};class Xy{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),s;n=n||"day",s=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),s=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),i,o;for(let l in n)s.push(l);for(i=0;i<s.length;i+=1)if(o=n[s[i]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:ir(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=Y(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),fe(n))}formatRange(e,n,r){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(n),fe(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let s=this.getCurrentData(),i=$y(r,s.dateEnv,Y({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),nd(i,null,s))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),xy(e,n))}addEvent(e,n){if(e instanceof ie){let o=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ni({def:o,instance:l})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),s;if(n instanceof on)s=n.internalEventSource;else if(typeof n=="boolean")n&&([s]=Ao(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;s=o.internalEventSource}let i=Ku(e,s,r,!1);if(i){let o=new ie(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ni(i)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:rd(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:s}=n.eventStore;e=String(e);for(let i in r){let o=r[i];if(o.publicId===e){if(o.recurringDef)return new ie(n,o,null);for(let l in s){let a=s[l];if(a.defId===o.defId)return new ie(n,o,a)}}}return null}getEvents(){let e=this.getCurrentData();return zt(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let s in n)r.push(new on(e,n[s]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let s in r)if(r[s].publicId===e)return new on(n,r[s]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof on)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=Ju(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new on(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=Y(e);n&&this.trigger("_scrollRequest",{time:n})}}function eb(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function ud(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function tb(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function nb(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function rb(t,e){return{left:t.left-e.left,top:t.top-e.top}}function dd(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!bt(r.activeRange,t)),isOther:!!(r&&!bt(r.currentRange,t)),isToday:!!(e&&bt(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function Mo(t,e){let n=["fc-day",`fc-day-${lv[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const sb=fe({year:"numeric",month:"long",day:"numeric"}),ib=fe({week:"long"});function Li(t,e,n="day",r=!0){const{dateEnv:s,options:i,calendarApi:o}=t;let l=s.format(e,n==="week"?ib:sb);if(i.navLinks){let a=s.toDate(e);const u=c=>{let d=n==="day"?i.navLinkDayClick:n==="week"?i.navLinkWeekClick:null;typeof d=="function"?d.call(o,s.toDate(e),c):(typeof d=="string"&&(n=d),o.zoomTo(e,n))};return Object.assign({title:Fn(i.navLinkHint,[l,a],l),"data-navlink":""},r?Lu(u):{onClick:u})}return{"aria-label":l}}let ti=null;function ob(){return ti===null&&(ti=lb()),ti}function lb(){let t=document.createElement("div");Bn(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return mo(t),n}let ni;function ab(){return ni||(ni=cb()),ni}function cb(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=fd(t);return document.body.removeChild(t),e}function fd(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function ub(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,s=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,l=fd(t),a=l.y-r-s,u=l.x-i-o,c={borderLeft:r,borderRight:s,borderTop:i,borderBottom:o,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return ob()&&n.direction==="rtl"?c.scrollbarLeft=a:c.scrollbarRight=a,e&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}function db(t,e=!1,n){let r=Po(t),s=ub(t,e),i={left:r.left+s.borderLeft+s.scrollbarLeft,right:r.right-s.borderRight-s.scrollbarRight,top:r.top+s.borderTop,bottom:r.bottom-s.borderBottom-s.scrollbarBottom};return e&&(i.left+=s.paddingLeft,i.right-=s.paddingRight,i.top+=s.paddingTop,i.bottom-=s.paddingBottom),i}function Po(t){let e=t.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function fb(t){let e=hd(t),n=t.getBoundingClientRect();for(let r of e){let s=ud(n,r.getBoundingClientRect());if(s)n=s;else return null}return n}function hd(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class is{constructor(e,n,r,s){this.els=n;let i=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(i.left),s&&this.buildElVerticals(i.top)}buildElHorizontals(e){let n=[],r=[];for(let s of this.els){let i=s.getBoundingClientRect();n.push(i.left-e),r.push(i.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let s of this.els){let i=s.getBoundingClientRect();n.push(i.top-e),r.push(i.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,s=n.length,i;for(i=0;i<s;i+=1)if(e>=n[i]&&e<r[i])return i}topToIndex(e){let{tops:n,bottoms:r}=this,s=n.length,i;for(i=0;i<s;i+=1)if(e>=n[i]&&e<r[i])return i}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Cr(this.tops||[],e.tops||[])&&Cr(this.bottoms||[],e.bottoms||[])&&Cr(this.lefts||[],e.lefts||[])&&Cr(this.rights||[],e.rights||[])}}function Cr(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class No{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class hb extends No{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class gb extends No{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(e){window.scroll(window.pageXOffset,e)}setScrollLeft(e){window.scroll(e,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Xt extends le{constructor(){super(...arguments),this.uid=Qt()}prepareHits(){}queryHit(e,n,r,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ve(e,".fc-event-mirror")}isValidDateDownEl(e){return!ve(e,".fc-event:not(.fc-bg-event)")&&!ve(e,".fc-more-link")&&!ve(e,"a[data-navlink]")&&!ve(e,".fc-popover")}}class pb{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},n),{span:gd(n.span,e.touchingEntry.span)});r.push(s),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let s=e.span,i=n.span;s.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:i.start}},r),s.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:s.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:s}=this;n.lateral===-1?(ri(s,n.level,n.levelCoord),ri(r,n.level,[e])):ri(r[n.level],n.lateral,e),this.stackCnts[zn(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:s,stackCnts:i}=this,o=n.length,l=0,a=-1,u=-1,c=null,d=0;for(let m=0;m<o;m+=1){const v=n[m];if(!s&&v>=l+this.getEntryThickness(e))break;let y=r[m],w,D=Ua(y,e.span.start,Ha),k=D[0]+D[1];for(;(w=y[k])&&w.span.start<e.span.end;){let O=v+this.getEntryThickness(w);O>l&&(l=O,c=w,a=m,u=k),O===l&&(d=Math.max(d,i[zn(w)]+1)),k+=1}}let f=0;if(c)for(f=a+1;f<o&&n[f]<l;)f+=1;let h=-1;return f<o&&n[f]===l&&(h=Ua(r[f],e.span.end,Ha)[0]),{touchingLevel:a,touchingLateral:u,touchingEntry:c,stackCnt:d,levelCoord:l,level:f,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,s=[];for(let i=0;i<r;i+=1){let o=e[i],l=n[i];for(let a of o)s.push(Object.assign(Object.assign({},a),{thickness:this.getEntryThickness(a),levelCoord:l}))}return s}}function Ha(t){return t.span.end}function zn(t){return t.index+":"+t.span.start}function gd(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function ri(t,e,n){t.splice(e,0,n)}function Ua(t,e,n){let r=0,s=t.length;if(!s||e<n(t[r]))return[0,0];if(e>n(t[s-1]))return[s,0];for(;r<s;){let i=Math.floor(r+(s-r)/2),o=n(t[i]);if(e<o)s=i;else if(e>o)r=i+1;else return[i,1]}return[r,0]}class mb{constructor(e,n){this.emitter=new As}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const jo={};function vb(t,e){return!t||e>10?fe({weekday:"short"}):e>1?fe({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):fe({weekday:"long"})}const pd="fc-col-header-cell";function md(t){return t.text}class yb extends le{render(){let{dateEnv:e,options:n,theme:r,viewApi:s}=this.context,{props:i}=this,{date:o,dateProfile:l}=i,a=dd(o,i.todayRange,null,l),u=[pd].concat(Mo(a,r)),c=e.format(o,i.dayHeaderFormat),d=!a.isDisabled&&i.colCnt>1?Li(this.context,o):{},f=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:s},i.extraRenderProps),{text:c}),a);return _(ot,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":a.isDisabled?void 0:bo(o)},i.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:md,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},h=>_("div",{className:"fc-scrollgrid-sync-inner"},!a.isDisabled&&_(h,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const bb=fe({weekday:"long"});class _b extends le{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:s,options:i}=this.context,o=ye(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},a=n.format(o,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:o},l),{view:s}),e.extraRenderProps),{text:a});return _(ot,{elTag:"th",elClasses:[pd,...Mo(l,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:md,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},c=>_("div",{className:"fc-scrollgrid-sync-inner"},_(c,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,bb)}})))}}class Lo extends Oe{constructor(e,n){super(e,n),this.initialNowDate=ir(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:n}=this,r=Et(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),s=n.dateEnv.startOf(r,e.unit),i=n.dateEnv.add(s,Y(1,e.unit)),o=i.valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{currentState:{nowDate:s,todayRange:Ba(s)},nextState:{nowDate:i,todayRange:Ba(i)},waitMs:o}}setTimeout(){let{nextState:e,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Lo.contextType=Zt;function Ba(t){let e=se(t),n=ye(e,1);return{start:e,end:n}}class wb extends le{constructor(){super(...arguments),this.createDayHeaderFormatter=Q(Eb)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:s,renderIntro:i}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,n.length);return _(Lo,{unit:"day"},(l,a)=>_("tr",{role:"row"},i&&i("day"),n.map(u=>s?_(yb,{key:u.toISOString(),date:u,dateProfile:r,todayRange:a,colCnt:n.length,dayHeaderFormat:o}):_(_b,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:o}))))}}function Eb(t,e,n){return t||vb(e,n)}class Ab{constructor(e,n){let r=e.start,{end:s}=e,i=[],o=[],l=-1;for(;r<s;)n.isHiddenDay(r)?i.push(l+.5):(l+=1,i.push(l),o.push(r)),r=ye(r,1);this.dates=o,this.indices=i,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(ye(e.end,-1)),s=Math.max(0,n),i=Math.min(this.cnt-1,r);return s=Math.ceil(s),i=Math.floor(i),s<=i?{firstIndex:s,lastIndex:i,isStart:n===s,isEnd:r===i}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Sn(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class Sb{constructor(e,n){let{dates:r}=e,s,i,o;if(n){for(i=r[0].getUTCDay(),s=1;s<r.length&&r[s].getUTCDay()!==i;s+=1);o=Math.ceil(r.length/s)}else o=1,s=r.length;this.rowCnt=o,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let s=0;s<this.colCnt;s+=1)r.push(this.buildCell(n,s));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),s=[];if(r){let{firstIndex:i,lastIndex:o}=r,l=i;for(;l<=o;){let a=Math.floor(l/n),u=Math.min((a+1)*n,o+1);s.push({row:a,firstCol:l%n,lastCol:(u-1)%n,isStart:r.isStart&&l===i,isEnd:r.isEnd&&u-1===o}),l=u}}return s}}class Cb{constructor(){this.sliceBusinessHours=Q(this._sliceBusinessHours),this.sliceDateSelection=Q(this._sliceDateSpan),this.sliceEventStore=Q(this._sliceEventStore),this.sliceEventDrag=Q(this._sliceInteraction),this.sliceEventResize=Q(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,s,...i){let{eventUiBases:o}=e,l=this.sliceEventStore(e.eventStore,o,n,r,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,s,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,s,...i),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...i),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...i),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,s,...i){return this._sliceDateSpan({range:{start:e,end:Et(e,1)},allDay:!1},n,r,{},s,...i)}_sliceBusinessHours(e,n,r,s,...i){return e?this._sliceEventStore(qt(e,Dr(n,!!r),s),{},n,r,...i).bg:[]}_sliceEventStore(e,n,r,s,...i){if(e){let o=Na(e,n,Dr(r,!!s),s);return{bg:this.sliceEventRanges(o.bg,i),fg:this.sliceEventRanges(o.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,s,...i){if(!e)return null;let o=Na(e.mutatedEvents,n,Dr(r,!!s),s);return{segs:this.sliceEventRanges(o.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,s,i,...o){if(!e)return[];let l=Dr(n,!!r),a=_n(e.range,l);if(a){e=Object.assign(Object.assign({},e),{range:a});let u=qy(e,s,i),c=this.sliceRange(e.range,...o);for(let d of c)d.eventRange=u;return c}return[]}sliceEventRanges(e,n){let r=[];for(let s of e)r.push(...this.sliceEventRange(s,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:ye(r.start,1)});let s=this.sliceRange(r,...n);for(let i of s)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return s}}function Dr(t,e){let n=t.activeRange;return e?n:{start:Et(n.start,t.slotMinTime.milliseconds),end:Et(n.end,t.slotMaxTime.milliseconds-864e5)}}function vd(t,e,n){let{instances:r}=t.mutatedEvents;for(let s in r)if(!ws(e.validRange,r[s].range))return!1;return yd({eventDrag:t},n)}function Db(t,e,n){return ws(e.validRange,t.range)?yd({dateSelection:t},n):!1}function yd(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||Rb)(r,e)}function Rb(t,e,n={},r){return!(t.eventDrag&&!Tb(t,e,n,r)||t.dateSelection&&!kb(t,e,n,r))}function Tb(t,e,n,r){let s=e.getCurrentData(),i=t.eventDrag,o=i.mutatedEvents,l=o.defs,a=o.instances,u=ss(l,i.isEvent?t.eventUiBases:{"":s.selectionConfig});r&&(u=Kt(u,r));let c=Sy(t.eventStore,i.affectedEvents.instances),d=c.defs,f=c.instances,h=ss(d,t.eventUiBases);for(let m in a){let v=a[m],y=v.range,w=u[v.defId],D=l[v.defId];if(!bd(w.constraints,y,c,t.businessHours,e))return!1;let{eventOverlap:k}=e.options,O=typeof k=="function"?k:null;for(let I in f){let H=f[I];if(Co(y,H.range)&&(h[H.defId].overlap===!1&&i.isEvent||w.overlap===!1||O&&!O(new ie(e,d[H.defId],H),new ie(e,D,v))))return!1}let j=s.eventStore;for(let I of w.allows){let H=Object.assign(Object.assign({},n),{range:v.range,allDay:D.allDay}),N=j.defs[D.defId],ue=j.instances[m],ge;if(N?ge=new ie(e,N,ue):ge=new ie(e,D),!I(Oo(H,e),ge))return!1}}return!0}function kb(t,e,n,r){let s=t.eventStore,i=s.defs,o=s.instances,l=t.dateSelection,a=l.range,{selectionConfig:u}=e.getCurrentData();if(r&&(u=r(u)),!bd(u.constraints,a,s,t.businessHours,e))return!1;let{selectOverlap:c}=e.options,d=typeof c=="function"?c:null;for(let f in o){let h=o[f];if(Co(a,h.range)&&(u.overlap===!1||d&&!d(new ie(e,i[h.defId],h),null)))return!1}for(let f of u.allows){let h=Object.assign(Object.assign({},n),l);if(!f(Oo(h,e),null))return!1}return!0}function bd(t,e,n,r,s){for(let i of t)if(!xb(Ob(i,e,n,r,s),e))return!1;return!0}function Ob(t,e,n,r,s){return t==="businessHours"?si(qt(r,e,s)):typeof t=="string"?si(Es(n,i=>i.groupId===t)):typeof t=="object"&&t?si(qt(t,e,s)):[]}function si(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function xb(t,e){for(let n of t)if(ws(n,e))return!0;return!1}const Rr=/^(visible|hidden)$/;class Ib extends le{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,st(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,s=n&&r,i=["fc-scroller"];return n&&(r?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),_("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Rr.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Rr.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Rr.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Rr.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ft{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:s,currentMap:i}=this,o=!1,l=!1;n!==null?(o=r in i,i[r]=n,s[r]=(s[r]||0)+1,l=!0):(s[r]-=1,s[r]||(delete i[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),l&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return Bv(this.currentMap,e,n,r)}getAll(){return Ao(this.currentMap)}}function Mb(t){let e=Bm(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,ev(r));return Math.ceil(n)}function _d(t,e){return t.liquid&&e.liquid}function Pb(t,e){return e.maxHeight!=null||_d(t,e)}function Nb(t,e,n,r){let{expandRows:s}=n;return typeof e.content=="function"?e.content(n):_("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:s?n.clientHeight:""}},n.tableColGroupNode,_(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function jb(t,e){return wt(t,e,Je)}function Lb(t,e){let n=[];for(let r of t){let s=r.span||1;for(let i=0;i<s;i+=1)n.push(_("col",{style:{width:r.width==="shrink"?Hb(e):r.width||"",minWidth:r.minWidth||""}}))}return _("colgroup",{},...n)}function Hb(t){return t??4}function Ub(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Bb(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function Fb(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function $b(t){return _("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Fa(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function Vb(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class wd extends le{constructor(){super(...arguments),this.processCols=Q(e=>e,jb),this.renderMicroColGroup=Q(Lb),this.scrollerRefs=new Ft,this.scrollerElRefs=new Ft(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,s=e.sections||[],i=this.processCols(e.cols),o=this.renderMicroColGroup(i,n.shrinkWidth),l=Bb(e.liquid,r);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let a=s.length,u=0,c,d=[],f=[],h=[];for(;u<a&&(c=s[u]).type==="header";)d.push(this.renderSection(c,o,!0)),u+=1;for(;u<a&&(c=s[u]).type==="body";)f.push(this.renderSection(c,o,!1)),u+=1;for(;u<a&&(c=s[u]).type==="footer";)h.push(this.renderSection(c,o,!0)),u+=1;let m=!cd();const v={role:"rowgroup"};return _("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!m&&d.length)&&_("thead",v,...d),!!(!m&&f.length)&&_("tbody",v,...f),!!(!m&&h.length)&&_("tfoot",v,...h),m&&_("tbody",v,...d,...f,...h))}renderSection(e,n,r){return"outerContent"in e?_(ae,{key:e.key},e.outerContent):_("tr",{key:e.key,role:"presentation",className:Fb(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,s){if("outerContent"in r)return r.outerContent;let{props:i}=this,{forceYScrollbars:o,scrollerClientWidths:l,scrollerClientHeights:a}=this.state,u=Pb(i,e),c=_d(i,e),d=i.liquid?o?"scroll":u?"auto":"hidden":"visible",f=e.key,h=Nb(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&l[f]!==void 0?l[f]:null,clientHeight:a[f]!==void 0?a[f]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return _(s?"th":"td",{ref:r.elRef,role:"presentation"},_("div",{className:`fc-scroller-harness${c?" fc-scroller-harness-liquid":""}`},_(Ib,{ref:this.scrollerRefs.createRef(f),elRef:this.scrollerElRefs.createRef(f),overflowY:d,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,n){let r=zb(this.props.sections,n);r&&st(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Ub(this.props.cols)?Mb(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=ab(),{scrollerRefs:n,scrollerElRefs:r}=this,s=!1,i={},o={};for(let l in n.currentMap){let a=n.currentMap[l];if(a&&a.needsYScrolling()){s=!0;break}}for(let l of this.props.sections){let a=l.key,u=r.currentMap[a];if(u){let c=u.parentNode;i[a]=Math.floor(c.getBoundingClientRect().width-(s?e.y:0)),o[a]=Math.floor(c.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:i,scrollerClientHeights:o}}}wd.addStateEquality({scrollerClientWidths:Je,scrollerClientHeights:Je});function zb(t,e){for(let n of t)if(n.key===e)return n;return null}class Ho extends le{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&ja(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:s}=e,{eventRange:i}=s,{ui:o}=i,l={event:new ie(n,i.def,i.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&jy(s,n),isStartResizable:!e.disableResizing&&Ly(s,n),isEndResizable:!e.disableResizing&&Hy(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return _(ot,Object.assign({},e,{elRef:this.handleEl,elClasses:[...Uy(l),...s.eventRange.ui.classNames,...e.elClasses||[]],renderProps:l,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&ja(this.el,this.props.seg)}}class Wb extends le{render(){let{props:e,context:n}=this,{options:r}=n,{seg:s}=e,{ui:i}=s.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,l=id(s,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return _(Ho,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:od(s,n),defaultGenerator:Gb,timeText:l}),(a,u)=>_(ae,null,_(a,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&_("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&_("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function Gb(t){return _("div",{className:"fc-event-main-frame"},t.timeText&&_("div",{className:"fc-event-time"},t.timeText),_("div",{className:"fc-event-title-container"},_("div",{className:"fc-event-title fc-sticky"},t.event.title||_(ae,null," "))))}const qb=fe({day:"numeric"});class Ed extends le{constructor(){super(...arguments),this.refineRenderProps=Ur(Yb)}render(){let{props:e,context:n}=this,{options:r}=n,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return _(ot,Object.assign({},e,{elClasses:[...Mo(s,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":bo(e.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function Ad(t){return!!(t.dayCellContent||Mi("dayCellContent",t))}function Yb(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:s}=t,i=dd(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,s?t.monthStartFormat:qb):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},i),{isMonthStart:s,dayNumberText:o}),t.extraRenderProps)}class Qb extends le{render(){let{props:e}=this,{seg:n}=e;return _(Ho,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:Kb,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Kb(t){let{title:e}=t.event;return e&&_("div",{className:"fc-event-title"},t.event.title)}function Zb(t){return _("div",{className:`fc-${t}`})}const Jb=t=>_(Zt.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:s}=t,i=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(s),l=n.format(s,i);return _(ot,Object.assign({},t,{renderProps:{num:o,text:l,date:s},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:Xb,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function Xb(t){return t.text}const ii=10;class e_ extends le{constructor(){super(...arguments),this.state={titleId:bs()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&st(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=Nu(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:s}=this,i=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return Dm(_("div",Object.assign({},r.extraAttrs,{id:r.id,className:i.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),_("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},_("span",{className:"fc-popover-title",id:s.titleId},r.title),_("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),_("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:s}=this,i=fb(n);if(i){let o=s.getBoundingClientRect(),l=r?ve(n,".fc-scrollgrid").getBoundingClientRect().top:i.top,a=e?i.right-o.width:i.left;l=Math.max(l,ii),a=Math.min(a,document.documentElement.clientWidth-ii-o.width),a=Math.max(a,ii);let u=s.offsetParent.getBoundingClientRect();Bn(s,{top:l-u.top,left:a-u.left})}}}class t_ extends Xt{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:s,todayRange:i,dateProfile:o}=r,l=n.format(s,e.dayPopoverFormat);return _(Ed,{elRef:this.handleRootEl,date:s,dateProfile:o,todayRange:i},(a,u,c)=>_(e_,{elRef:c.ref,id:r.id,title:l,extraClassNames:["fc-more-popover"].concat(c.className||[]),extraAttrs:c,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},Ad(e)&&_(a,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,s){let{rootEl:i,props:o}=this;return e>=0&&e<r&&n>=0&&n<s?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:r,bottom:s},layer:1}:null}}class n_ extends le{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:bs()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&st(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:s}=r.options,i=$a(n).start;function o(l){let{def:a,instance:u,range:c}=l.eventRange;return{event:new ie(r,a,u),start:r.dateEnv.toDate(c.start),end:r.dateEnv.toDate(c.end),isStart:l.isStart,isEnd:l.isEnd}}typeof s=="function"&&(s=s({date:i,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&r.calendarApi.zoomTo(i,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return _(Zt.Consumer,null,r=>{let{viewApi:s,options:i,calendarApi:o}=r,{moreLinkText:l}=i,{moreCnt:a}=e,u=$a(e),c=typeof l=="function"?l.call(o,a):`+${a} ${l}`,d=Fn(i.moreLinkHint,[a],c),f={num:a,shortText:`+${a}`,text:c,view:s};return _(ae,null,!!e.moreCnt&&_(ot,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Lu(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:f,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||r_,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),n.isPopoverOpen&&_(t_,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ve(this.linkEl,".fc-view-harness"))}}function r_(t){return t.text}function $a(t){if(t.allDayDate)return{start:t.allDayDate,end:ye(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:s_(e),end:o_(e)}}function s_(t){return t.reduce(i_).eventRange.range.start}function i_(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function o_(t){return t.reduce(l_).eventRange.range.end}function l_(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class a_{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class c_ extends a_{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const u_=[],Sd={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Cd=Object.assign(Object.assign({},Sd),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function d_(t){let e=t.length>0?t[0].code:"en",n=u_.concat(t),r={en:Cd};for(let s of n)r[s.code]=s;return{map:r,defaultCode:e}}function Dd(t,e){return typeof t=="object"&&!Array.isArray(t)?Rd(t.code,[t.code],t):f_(t,e)}function f_(t,e){let n=[].concat(t||[]),r=h_(n,e)||Cd;return Rd(t,n,r)}function h_(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let s=r.length;s>0;s-=1){let i=r.slice(0,s).join("-");if(e[i])return e[i]}}return null}function Rd(t,e,n){let r=Eo([Sd,n],["buttonText"]);delete r.code;let{week:s}=r;return delete r.week,{codeArg:t,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function Ct(t){return{id:Qt(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function g_(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(i){for(let o of i){const l=o.name,a=n[l];a===void 0?(n[l]=o.id,s(o.deps),r=m_(r,o)):a!==o.id&&console.warn(`Duplicate plugin '${l}'`)}}return t&&s(t),s(e),r}function p_(){let t=[],e=[],n;return(r,s)=>((!n||!wt(r,t)||!wt(s,e))&&(n=g_(r,s)),t=r,e=s,n)}function m_(t,e){return{premiumReleaseDate:v_(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function v_(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Dt extends sr{}Dt.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Dt.prototype.baseIconClass="fc-icon";Dt.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Dt.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Dt.prototype.iconOverrideOption="buttonIcons";Dt.prototype.iconOverrideCustomButtonOption="icon";Dt.prototype.iconOverridePrefix="fc-icon-";function y_(t,e){let n={},r;for(r in t)Hi(r,n,t,e);for(r in e)Hi(r,n,t,e);return n}function Hi(t,e,n,r){if(e[t])return e[t];let s=b_(t,e,n,r);return s&&(e[t]=s),s}function b_(t,e,n,r){let s=n[t],i=r[t],o=c=>s&&s[c]!==null?s[c]:i&&i[c]!==null?i[c]:null,l=o("component"),a=o("superType"),u=null;if(a){if(a===t)throw new Error("Can't have a custom view type that references itself");u=Hi(a,e,n,r)}return!l&&u&&(l=u.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},u?u.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),i?i.rawOptions:{})}:null}function Va(t){return Kt(t,__)}function __(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=za(e):n&&!(n.prototype instanceof le)&&(n=za(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function za(t){return e=>_(Zt.Consumer,null,n=>_(ot,{elTag:"div",elClasses:Wu(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function w_(t,e,n,r){let s=Va(t),i=Va(e.views),o=y_(s,i);return Kt(o,l=>E_(l,i,e,n,r))}function E_(t,e,n,r,s){let i=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,l="",a="",u={};if(i&&(o=A_(i),o)){let f=xi(o);l=f.unit,f.value===1&&(a=l,u=e[l]?e[l].rawOptions:{})}let c=f=>{let h=f.buttonText||{},m=t.defaults.buttonTextKey;return m!=null&&h[m]!=null?h[m]:h[t.type]!=null?h[t.type]:h[a]!=null?h[a]:null},d=f=>{let h=f.buttonHints||{},m=t.defaults.buttonTextKey;return m!=null&&h[m]!=null?h[m]:h[t.type]!=null?h[t.type]:h[a]!=null?h[a]:null};return{type:t.type,component:t.component,duration:o,durationUnit:l,singleUnit:a,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:c(r)||c(n)||t.overrides.buttonText,buttonTextDefault:c(s)||t.defaults.buttonText||c($n)||t.type,buttonTitleOverride:d(r)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(s)||t.defaults.buttonHint||d($n)}}let Wa={};function A_(t){let e=JSON.stringify(t),n=Wa[e];return n===void 0&&(n=Y(t),Wa[e]=n),n}function S_(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function C_(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function D_(t,e,n,r){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(s=r.buildPrev(t,n),s.isValid)return s;break;case"NEXT":if(s=r.buildNext(t,n),s.isValid)return s;break}return t}function R_(t,e,n){let r=e?e.activeRange:null;return kd({},P_(t,n),r,n)}function T_(t,e,n,r){let s=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return kd(t,e.sources,s,r);case"REMOVE_EVENT_SOURCE":return O_(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Od(t,s,r):t;case"FETCH_EVENT_SOURCES":return Uo(t,e.sourceIds?Bu(e.sourceIds):xd(t,r),s,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return M_(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function k_(t,e,n){let r=e?e.activeRange:null;return Uo(t,xd(t,n),r,!0,n)}function Td(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function kd(t,e,n,r){let s={};for(let i of e)s[i.sourceId]=i;return n&&(s=Od(s,n,r)),Object.assign(Object.assign({},t),s)}function O_(t,e){return Gt(t,n=>n.sourceId!==e)}function Od(t,e,n){return Uo(t,Gt(t,r=>x_(r,e,n)),e,!1,n)}function x_(t,e,n){return Id(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Uo(t,e,n,r,s){let i={};for(let o in t){let l=t[o];e[o]?i[o]=I_(l,n,r,s):i[o]=l}return i}function I_(t,e,n,r){let{options:s,calendarApi:i}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=Qt();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},a=>{let{rawEvents:u}=a;s.eventSourceSuccess&&(u=s.eventSourceSuccess.call(i,u,a.response)||u),t.success&&(u=t.success.call(i,u,a.response)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:u})},a=>{let u=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(i,a),u=!0),t.failure&&(t.failure(a),u=!0),u||console.warn(a.message,a),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:a})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function M_(t,e,n,r){let s=t[e];return s&&n===s.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:r})}):t}function xd(t,e){return Gt(t,n=>Id(n,e))}function P_(t,e){let n=Xu(e),r=[].concat(t.eventSources||[]),s=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let i of r){let o=Ju(i,e,n);o&&s.push(o)}return s}function Id(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function N_(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function j_(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function L_(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function H_(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function U_(t,e,n,r,s){let i=t.headerToolbar?Ga(t.headerToolbar,t,e,n,r,s):null,o=t.footerToolbar?Ga(t.footerToolbar,t,e,n,r,s):null;return{header:i,footer:o}}function Ga(t,e,n,r,s,i){let o={},l=[],a=!1;for(let u in t){let c=t[u],d=B_(c,e,n,r,s,i);o[u]=d.widgets,l.push(...d.viewsWithButtons),a=a||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:l,hasTitle:a}}function B_(t,e,n,r,s,i){let o=e.direction==="rtl",l=e.customButtons||{},a=n.buttonText||{},u=e.buttonText||{},c=n.buttonHints||{},d=e.buttonHints||{},f=t?t.split(" "):[],h=[],m=!1;return{widgets:f.map(y=>y.split(",").map(w=>{if(w==="title")return m=!0,{buttonName:w};let D,k,O,j,I,H;if(D=l[w])O=N=>{D.click&&D.click.call(N.target,N,N.target)},(j=r.getCustomButtonIconClass(D))||(j=r.getIconClass(w,o))||(I=D.text),H=D.hint||D.text;else if(k=s[w]){h.push(w),O=()=>{i.changeView(w)},(I=k.buttonTextOverride)||(j=r.getIconClass(w,o))||(I=k.buttonTextDefault);let N=k.buttonTextOverride||k.buttonTextDefault;H=Fn(k.buttonTitleOverride||k.buttonTitleDefault||e.viewHint,[N,w],N)}else if(i[w])if(O=()=>{i[w]()},(I=a[w])||(j=r.getIconClass(w,o))||(I=u[w]),w==="prevYear"||w==="nextYear"){let N=w==="prevYear"?"prev":"next";H=Fn(c[N]||d[N],[u.year||"year","year"],u[w])}else H=N=>Fn(c[w]||d[w],[u[N]||N,N],u[w]);return{buttonName:w,buttonClick:O,buttonIcon:j,buttonText:I,buttonHint:H}})),viewsWithButtons:h,hasTitle:m}}class F_{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let $_={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const V_=Ct({name:"array-event-source",eventSourceDefs:[$_]});let z_={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,s=t.eventSource.meta;Yy(s.bind(null,ld(t.range,r)),i=>e({rawEvents:i}),n)}};const W_=Ct({name:"func-event-source",eventSourceDefs:[z_]}),G_={method:String,extraParams:b,startParam:String,endParam:String,timeZoneParam:String};let q_={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,s=Q_(r,t.range,t.context);Qy(r.method,r.url,s).then(([i,o])=>{e({rawEvents:i,response:o})},n)}};const Y_=Ct({name:"json-event-source",eventSourceRefiners:G_,eventSourceDefs:[q_]});function Q_(t,e,n){let{dateEnv:r,options:s}=n,i,o,l,a,u={};return i=t.startParam,i==null&&(i=s.startParam),o=t.endParam,o==null&&(o=s.endParam),l=t.timeZoneParam,l==null&&(l=s.timeZoneParam),typeof t.extraParams=="function"?a=t.extraParams():a=t.extraParams||{},Object.assign(u,a),u[i]=r.formatIso(e.start),u[o]=r.formatIso(e.end),r.timeZone!=="local"&&(u[l]=r.timeZone),u}const K_={daysOfWeek:b,startTime:Y,endTime:Y,duration:Y,startRecur:b,endRecur:b};let Z_={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=sv(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=_n(e,{start:t.startRecur,end:t.endRecur});return r?X_(t.daysOfWeek,t.startTime,r,n):[]}};const J_=Ct({name:"simple-recurring-event",recurringTypes:[Z_],eventRefiners:K_});function X_(t,e,n,r){let s=t?Bu(t):null,i=se(n.start),o=n.end,l=[];for(;i<o;){let a;(!s||s[i.getUTCDay()])&&(e?a=r.add(i,e):a=i,l.push(a)),i=ye(i,1)}return l}const ew=Ct({name:"change-handler",optionChangeHandlers:{events(t,e){qa([t],e)},eventSources:qa}});function qa(t,e){let n=Ao(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let s of t){let i=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===s){n.splice(o,1),i=!0;break}i||r.push(s)}for(let s of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of r)e.calendarApi.addEventSource(s)}function tw(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},ld(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function nw(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",zt(t,e))}const rw=[V_,W_,Y_,J_,ew,Ct({name:"misc",isLoadingFuncs:[t=>Td(t.eventSources)],propSetHandlers:{dateProfile:tw,eventStore:nw}})];class sw{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new po(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function iw(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,fe(e.titleFormat||ow(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function ow(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Zr(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class lw{constructor(e){this.computeCurrentViewData=Q(this._computeCurrentViewData),this.organizeRawLocales=Q(d_),this.buildLocale=Q(Dd),this.buildPluginHooks=p_(),this.buildDateEnv=Q(aw),this.buildTheme=Q(cw),this.parseToolbars=Q(U_),this.buildViewSpecs=Q(w_),this.buildDateProfileGenerator=Ur(uw),this.buildViewApi=Q(dw),this.buildViewUiProps=Ur(gw),this.buildEventUiBySource=Q(fw,Je),this.buildEventUiBases=Q(hw),this.parseContextBusinessHours=Ur(pw),this.buildTitle=Q(iw),this.emitter=new As,this.actionRunner=new sw(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=f=>{this.actionRunner.request(f)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),s=r.calendarOptions.initialView||r.pluginHooks.initialView,i=this.computeCurrentViewData(s,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let o=oy(r.calendarOptions,r.dateEnv),l=i.dateProfileGenerator.build(o);bt(l.activeRange,o)||(o=l.currentRange.start);let a={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let f of r.pluginHooks.contextInit)f(a);let u=R_(r.calendarOptions,l,a),c={dynamicOptionOverrides:n,currentViewType:s,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(a),eventSources:u,eventUiBases:{},eventStore:Fe(),renderableEventStore:Fe(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},d=Object.assign(Object.assign({},a),c);for(let f of r.pluginHooks.reducers)Object.assign(c,f(null,null,d));oi(c,a)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:s}=this,i=C_(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,i,n.calendarApi),l=S_(r.currentViewType,e),a=this.computeCurrentViewData(l,o,n.optionOverrides,i);n.calendarApi.currentDataManager=this,s.setThisContext(n.calendarApi),s.setOptions(a.options);let u={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:d}=r;this.data&&this.data.dateProfileGenerator!==a.dateProfileGenerator&&(d=a.dateProfileGenerator.build(c)),c=iy(c,e),d=D_(d,e,c,a.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!bt(d.currentRange,c))&&(c=d.currentRange.start);let f=T_(r.eventSources,e,d,u),h=_y(r.eventStore,e,f,d,u),v=Td(f)&&!a.options.progressiveEventRendering&&r.renderableEventStore||h,{eventUiSingleBase:y,selectionConfig:w}=this.buildViewUiProps(u),D=this.buildEventUiBySource(f),k=this.buildEventUiBases(v.defs,y,D),O={dynamicOptionOverrides:i,currentViewType:l,currentDate:c,dateProfile:d,eventSources:f,eventStore:h,renderableEventStore:v,selectionConfig:w,eventUiBases:k,businessHours:this.parseContextBusinessHours(u),dateSelection:N_(r.dateSelection,e),eventSelection:j_(r.eventSelection,e),eventDrag:L_(r.eventDrag,e),eventResize:H_(r.eventResize,e)},j=Object.assign(Object.assign({},u),O);for(let N of o.pluginHooks.reducers)Object.assign(O,N(r,e,j));let I=oi(r,u),H=oi(O,u);!I&&H?s.trigger("loading",!0):I&&!H&&s.trigger("loading",!1),this.state=O,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,s=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(n.currentViewType,s,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,i.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),i),n),l=s.pluginHooks.optionChangeHandlers,a=r&&r.calendarOptions,u=s.calendarOptions;if(a&&a!==u){a.timeZone!==u.timeZone&&(n.eventSources=o.eventSources=k_(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=Ma(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=Ma(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let c in l)(this.optionsForHandling.indexOf(c)!==-1||a[c]!==u[c])&&l[c](u[c],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:i,localeDefaults:o,availableLocaleData:l,extra:a}=this.processRawCalendarOptions(e,n);Ya(a);let u=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,i,l,s.defaultRangeSeparator),c=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),d=this.buildTheme(s,i),f=this.parseToolbars(s,this.stableOptionOverrides,d,c,r);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:i,dateEnv:u,viewSpecs:c,theme:d,toolbarConfig:f,localeDefaults:o,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:r,locale:s}=Js([$n,e,n]),i=this.organizeRawLocales(r),o=i.map,l=this.buildLocale(s||i.defaultCode,o).options,a=this.buildPluginHooks(e.plugins||[],rw),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Da),Ra),Ta),a.listenerRefiners),a.optionRefiners),c={},d=Js([$n,l,e,n]),f={},h=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,v=!1;for(let y in d)this.optionsForRefining.indexOf(y)===-1&&(d[y]===h[y]||Pt[y]&&y in h&&Pt[y](h[y],d[y]))?f[y]=m[y]:u[y]?(f[y]=u[y](d[y]),v=!0):c[y]=h[y];return v&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=f,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:a,availableLocaleData:i,localeDefaults:l,extra:c}}_computeCurrentViewData(e,n,r,s){let i=n.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:l}=this.processRawViewOptions(i,n.pluginHooks,n.localeDefaults,r,s);Ya(l);let a=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:i,options:o,dateProfileGenerator:a,viewApi:u}}processRawViewOptions(e,n,r,s,i){let o=Js([$n,e.optionDefaults,r,s,e.optionOverrides,i]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Da),Ra),Ta),jv),n.listenerRefiners),n.optionRefiners),a={},u=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,f={};for(let h in o)o[h]===u[h]||Pt[h]&&Pt[h](o[h],u[h])?a[h]=c[h]:(o[h]===this.currentCalendarOptionsInput[h]||Pt[h]&&Pt[h](o[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(a[h]=this.currentCalendarOptionsRefined[h]):l[h]?a[h]=l[h](o[h]):f[h]=o[h],d=!0);return d&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=a),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:f}}}function aw(t,e,n,r,s,i,o,l){let a=Dd(e||o.defaultCode,o.map);return new Gv({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:a,weekNumberCalculation:n,firstDay:r,weekText:s,cmdFormatter:i.cmdFormatter,defaultSeparator:l})}function cw(t,e){let n=e.themeClasses[t.themeSystem]||Dt;return new n(t)}function uw(t){let e=t.dateProfileGeneratorClass||Yu;return new e(t)}function dw(t,e,n){return new F_(t,e,n)}function fw(t){return Kt(t,e=>e.ui)}function hw(t,e,n){let r={"":e};for(let s in t){let i=t[s];i.sourceId&&n[i.sourceId]&&(r[s]=n[i.sourceId])}return r}function gw(t){let{options:e}=t;return{eventUiSingleBase:rs({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:rs({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function oi(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function pw(t){return ky(t.options.businessHours,t)}function Ya(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class mw extends le{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return _("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,s=[],i=!0;for(let o of e){let{buttonName:l,buttonClick:a,buttonText:u,buttonIcon:c,buttonHint:d}=o;if(l==="title")i=!1,s.push(_("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let f=l===n.activeButton,h=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",m=[`fc-${l}-button`,r.getClass("button")];f&&m.push(r.getClass("buttonActive")),s.push(_("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:h,"aria-pressed":f,className:m.join(" "),onClick:a},u||(c?_("span",{className:c,role:"img"}):"")))}}if(s.length>1){let o=i&&r.getClass("buttonGroup")||"";return _("div",{className:o},...s)}return s[0]}}class Qa extends le{render(){let{model:e,extraClassName:n}=this.props,r=!1,s,i,o=e.sectionWidgets,l=o.center;return o.left?(r=!0,s=o.left):s=o.start,o.right?(r=!0,i=o.right):i=o.end,_("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",l||[]),this.renderSection("end",i||[]))}renderSection(e,n){let{props:r}=this;return _(mw,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class vw extends le{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,st(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,s=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",o="";return r?n.availableWidth!==null?i=n.availableWidth/r:o=`${1/r*100}%`:i=e.height||"",_("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:i,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class yw extends Cn{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:s}=this,{context:i}=s,o=wn(r);if(o&&s.isValidSegDownEl(n.target)){let l=ve(n.target,".fc-event-forced-url"),a=l?l.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:r,event:new ie(s.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:i.viewApi}),a&&!n.defaultPrevented&&(window.location.href=a)}},this.destroy=ju(e.el,"click",".fc-event",this.handleSegClick)}}class bw extends Cn{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{wn(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=Vm(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:s}=this,{context:i}=s,o=wn(r);(!n||s.isValidSegDownEl(n.target))&&i.emitter.trigger(e,{el:r,event:new ie(i,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:i.viewApi})}}class _w extends Jt{constructor(){super(...arguments),this.buildViewContext=Q(Qv),this.buildViewPropTransformers=Q(Ew),this.buildToolbarProps=Q(ww),this.headerRef=rt(),this.footerRef=rt(),this.interactionsStore={},this.state={viewLabelId:bs()},this.registerInteractiveComponent=(e,n)=>{let r=Jy(e,n),o=[yw,bw].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(r));this.interactionsStore[e.uid]=o,ji[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete ji[e.uid]},this.resizeRunner=new po(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,s=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,ir(e.options.now,e.dateEnv),e.viewTitle),i=!1,o="",l;e.isHeightAuto||e.forPrint?o="":r.height!=null?i=!0:r.contentHeight!=null?o=r.contentHeight:l=Math.max(r.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return _(Zt.Provider,{value:a},n.header&&_(Qa,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},s)),_(vw,{liquid:i,height:o,aspectRatio:l,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&_(Qa,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},s)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let s in r)n[s]!==e[s]&&r[s](n[s],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return _(ae,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of i)Object.assign(s,l.transform(s,e));let o=r.component;return _(o,Object.assign({},s))}}function ww(t,e,n,r,s,i){let o=n.build(s,void 0,!1),l=n.buildPrev(e,r,!1),a=n.buildNext(e,r,!1);return{title:i,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!bt(e.currentRange,s),isPrevEnabled:l.isValid,isNextEnabled:a.isValid}}function Ew(t){return t.map(e=>new e)}class Aw extends Xy{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;ts(()=>{Jn(_(Zy,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(s,i,o,l)=>(this.setClassNames(s),this.setHeight(i),_(zu.Provider,{value:this.customContentRenderId},_(_w,Object.assign({isHeightAuto:o,forPrint:l},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Jn(null,this.el),this.setClassNames([]),this.setHeight(""))},Pm(e),this.el=e,this.renderRunner=new po(this.handleRenderRequest),new lw({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){ts(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!wt(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){Pu(this.el,"height",e)}}const Sw={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},Cw=Pc({props:{options:Object},data(){return{renderId:0,customRenderingMap:new Map}},methods:{getApi(){return this.calendar},buildOptions(t){return{...t,customRenderingMetaMap:Tw(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const t=[];for(const e of this.customRenderingMap.values())t.push(Nr(Dw,{key:e.id,customRendering:e}));return Nr("div",{attrs:{"data-fc-render-id":this.renderId}},Nr(Ie,t))},mounted(){const t=new c_;this.handleCustomRendering=t.handle.bind(t);const e=this.buildOptions(this.options),n=new Aw(this.$el,e);this.calendar=n,n.render(),t.subscribe(r=>{this.customRenderingMap=r,this.renderId++,this.needCustomRenderingResize=!0})},beforeUpdate(){this.getApi().resumeRendering()},updated(){this.needCustomRenderingResize&&(this.needCustomRenderingResize=!1,this.getApi().updateSize())},beforeUnmount(){this.getApi().destroy()},watch:Rw()}),Dw=Pc({props:{customRendering:Object},render(){const t=this.customRendering,e=typeof t.generatorMeta=="function"?t.generatorMeta(t.renderProps):t.generatorMeta;return Nr(Ih,{to:t.containerEl},e)}});function Rw(){let t={options:{deep:!0,handler(e){let n=this.getApi();n.pauseRendering();let r=this.buildOptions(e);n.resetOptions(r),this.renderId++}}};for(let e in Sw)t[`options.${e}`]={deep:!0,handler(n){if(n!==void 0){let r=this.getApi();r.pauseRendering(),r.resetOptions({[e]:n},[e]),this.renderId++}}};return t}function Tw(t){const e={};for(const n in t)e[kw(n)]=t[n];return e}function kw(t){return t.split("-").map((e,n)=>n?Ow(e):e).join("")}function Ow(t){return t.charAt(0).toUpperCase()+t.slice(1)}jo.touchMouseIgnoreWait=500;let Ui=0,os=0,Bi=!1;class Md{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&xw(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let s=n.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,Iw()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.pageXOffset-this.prevScrollX+this.prevPageX,s=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:r-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new As,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Mw()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Pw()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||ve(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Bi=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ve(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Ui||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Bi=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,s=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:s}}createEventFromTouch(e,n){let r=e.touches,s,i,o=0,l=0;return r&&r.length?(s=r[0].pageX,i=r[0].pageY):(s=e.pageX,i=e.pageY),n?(this.origPageX=s,this.origPageY=i):(o=s-this.origPageX,l=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:i,deltaX:o,deltaY:l}}}function xw(t){return t.button===0&&!t.ctrlKey}function Iw(){Ui+=1,setTimeout(()=>{Ui-=1},jo.touchMouseIgnoreWait)}function Mw(){os+=1,os===1&&window.addEventListener("touchmove",Pd,{passive:!1})}function Pw(){os-=1,os||window.removeEventListener("touchmove",Pd,{passive:!1})}function Pd(t){Bi&&t.preventDefault()}class Nw{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=n-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Bn(r,{left:s.left,top:s.top}),zm(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(mo(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Bn(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.classList.add("fc-event-dragging"),Bn(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class Nd extends No{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class jd extends Nd{constructor(e,n){super(new hb(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return db(this.scrollController.el)}}class jw extends Nd{constructor(e){super(new gb,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Ka=typeof performance=="function"?performance.now:Date.now;class Lw{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(e){let n=Ka();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.pageXOffset,s=n-window.pageYOffset,i=this.pointerScreenY===null?0:s-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Ka()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:s}=this,i=s-e.distance,o=i*i/(s*s)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*l);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,s=null,i=this.scrollCaches||[];for(let o of i){let l=o.clientRect,a=e-l.left,u=l.right-e,c=n-l.top,d=l.bottom-n;a>=0&&u>=0&&c>=0&&d>=0&&(c<=r&&this.everMovedUp&&o.canScrollUp()&&(!s||s.distance>c)&&(s={scrollCache:o,name:"top",distance:c}),d<=r&&this.everMovedDown&&o.canScrollDown()&&(!s||s.distance>d)&&(s={scrollCache:o,name:"bottom",distance:d}),a<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!s||s.distance>a)&&(s={scrollCache:o,name:"left",distance:a}),u<=r&&this.everMovedRight&&o.canScrollRight()&&(!s||s.distance>u)&&(s={scrollCache:o,name:"right",distance:u}))}return s}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new jw(!1):new jd(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class or extends mb{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Wm(document.body),qm(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let i=this.minDistance,o,{deltaX:l,deltaY:a}=s;o=l*l+a*a,o>=i*i&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,Gm(document.body),Ym(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new Md(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new Nw,this.autoScroller=new Lw}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Hw{constructor(e){this.origRect=Po(e),this.scrollCaches=hd(e).map(n=>new jd(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let s of this.scrollCaches)if(!Uw(s.getEventTarget())&&!eb(r,s.clientRect))return!1;return!0}}function Uw(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Ss{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):s.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new As}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,s=e.subjectEl,i;s instanceof HTMLElement&&(i=Po(s),r=tb(r,i));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&i){let l=ud(i,o.rect);l&&(r=nb(l))}this.coordAdjust=rb(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Cs(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=Kt(this.droppableStore,e=>(e.component.prepareHits(),new Hw(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:s}=this,i=null;for(let o in r){let l=r[o].component,a=s[o];if(a&&a.isWithinClipping(e,n)){let u=a.computeLeft(),c=a.computeTop(),d=e-u,f=n-c,{origRect:h}=a,m=h.right-h.left,v=h.bottom-h.top;if(d>=0&&d<m&&f>=0&&f<v){let y=l.queryHit(d,f,m,v);y&&ws(y.dateProfile.activeRange,y.dateSpan.range)&&(!i||y.layer>i.layer)&&(y.componentId=o,y.context=l.context,y.rect.left+=u,y.rect.right+=u,y.rect.top+=c,y.rect.bottom+=c,i=y)}}}return i}}function Cs(t,e){return!t&&!e?!0:!!t!=!!e?!1:zy(t.dateSpan,e.dateSpan)}function Ld(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,Bw(t,e.dateEnv)),n}function Bw(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class Fw extends Cn{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:s}=this,i=r.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=r=>{let{component:s}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:o,finalHit:l}=this.hitDragging;if(o&&l&&Cs(o,l)){let{context:a}=s,u=Object.assign(Object.assign({},Ld(o.dateSpan,a)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:a.viewApi||a.calendarApi.view});a.emitter.trigger("dateClick",u)}}},this.dragging=new or(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Ss(this.dragging,Io(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class $w extends Cn{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:l,dragging:a}=this,{options:u}=l.context,c=u.selectable&&l.isValidDateDownEl(o.origEvent.target);a.setIgnoreMove(!c),a.delay=o.isTouch?Vw(l):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,l)=>{let{context:a}=this.component,u=null,c=!1;if(o){let d=this.hitDragging.initialHit;o.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,o)||(u=zw(d,o,a.pluginHooks.dateSelectionTransformers)),(!u||!Db(u,o.dateProfile,a))&&(c=!0,u=null)}u?a.dispatch({type:"SELECT_DATES",selection:u}):l||a.dispatch({type:"UNSELECT_DATES"}),c?vo():yo(),l||(this.dragSelection=u)},this.handlePointerUp=o=>{this.dragSelection&&(nd(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,s=this.dragging=new or(e.el);s.touchScrollAllowed=!1,s.minDistance=r.selectMinDistance||0,s.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Ss(this.dragging,Io(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Vw(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function zw(t,e,n){let r=t.dateSpan,s=e.dateSpan,i=[r.range.start,r.range.end,s.range.start,s.range.end];i.sort(Xm);let o={};for(let l of n){let a=l(t,e);if(a===!1)return null;a&&Object.assign(o,a)}return o.range={start:i[0],end:i[3]},o.allDay=r.allDay,o}class lr extends Cn{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let l=o.origEvent.target,{component:a,dragging:u}=this,{mirror:c}=u,{options:d}=a.context,f=a.context;this.subjectEl=o.subjectEl;let h=this.subjectSeg=wn(o.subjectEl),v=(this.eventRange=h.eventRange).instance.instanceId;this.relevantEvents=To(f.getCurrentData().eventStore,v),u.minDistance=o.isTouch?0:d.eventDragMinDistance,u.delay=o.isTouch&&v!==a.props.eventSelection?Gw(a):null,d.fixedMirrorParent?c.parentNode=d.fixedMirrorParent:c.parentNode=ve(l,".fc"),c.revertDuration=d.dragRevertDuration;let y=a.isValidSegDownEl(l)&&!ve(l,".fc-event-resizer");u.setIgnoreMove(!y),this.isDragging=y&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let l=this.component.context,a=this.eventRange,u=a.instance.instanceId;o.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(o),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ie(l,a.def,a.instance),jsEvent:o.origEvent,view:l.viewApi}))},this.handleHitUpdate=(o,l)=>{if(!this.isDragging)return;let a=this.relevantEvents,u=this.hitDragging.initialHit,c=this.component.context,d=null,f=null,h=null,m=!1,v={affectedEvents:a,mutatedEvents:Fe(),isEvent:!0};if(o){d=o.context;let y=d.options;c===d||y.editable&&y.droppable?(f=Ww(u,o,d.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(h=xo(a,d.getCurrentData().eventUiBases,f,d),v.mutatedEvents=h,vd(v,o.dateProfile,d)||(m=!0,f=null,h=null,v.mutatedEvents=Fe()))):d=null}this.displayDrag(d,v),m?vo():yo(),l||(c===d&&Cs(u,o)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=f,this.mutatedRelevantEvents=h)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let l=this.component.context,a=l.viewApi,{receivingContext:u,validMutation:c}=this,d=this.eventRange.def,f=this.eventRange.instance,h=new ie(l,d,f),m=this.relevantEvents,v=this.mutatedRelevantEvents,{finalHit:y}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:h,jsEvent:o.origEvent,view:a}),c){if(u===l){let w=new ie(l,v.defs[d.defId],f?v.instances[f.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:v});let D={oldEvent:h,event:w,relatedEvents:zt(v,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:m})}},k={};for(let O of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(k,O(c,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},D),k),{el:o.subjectEl,delta:c.datesDelta,jsEvent:o.origEvent,view:a})),l.emitter.trigger("eventChange",D)}else if(u){let w={event:h,relatedEvents:zt(m,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:m})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},w),{draggedEl:o.subjectEl,view:a})),l.dispatch({type:"REMOVE_EVENTS",eventStore:m}),l.emitter.trigger("eventRemove",w);let D=v.defs[d.defId],k=v.instances[f.instanceId],O=new ie(u,D,k);u.dispatch({type:"MERGE_EVENTS",eventStore:v});let j={event:O,relatedEvents:zt(v,u,k),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:v})}};u.emitter.trigger("eventAdd",j),o.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},Ld(y.dateSpan,u)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:y.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},j),{draggedEl:o.subjectEl,view:y.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,s=this.dragging=new or(e.el);s.pointer.selector=lr.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Ss(this.dragging,ji);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,s=this.receivingContext;s&&s!==e&&(s===r?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Fe(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}lr.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Ww(t,e,n){let r=t.dateSpan,s=e.dateSpan,i=r.range.start,o=s.range.start,l={};r.allDay!==s.allDay&&(l.allDay=s.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,s.allDay&&(i=se(i)));let a=ln(i,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);a.milliseconds&&(l.allDay=!1);let u={datesDelta:a,standardProps:l};for(let c of n)c(u,t,e);return u}function Gw(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class qw extends Cn{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:o}=this,l=this.querySegEl(i),a=wn(l),u=this.eventRange=a.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=i=>{let{context:o}=this.component,l=this.eventRange;this.relevantEvents=To(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let a=this.querySegEl(i);this.draggingSegEl=a,this.draggingSeg=wn(a),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:a,event:new ie(o,l.def,l.instance),jsEvent:i.origEvent,view:o.viewApi})},this.handleHitUpdate=(i,o,l)=>{let{context:a}=this.component,u=this.relevantEvents,c=this.hitDragging.initialHit,d=this.eventRange.instance,f=null,h=null,m=!1,v={affectedEvents:u,mutatedEvents:Fe(),isEvent:!0};i&&(i.componentId===c.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(c,i)||(f=Yw(c,i,l.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),f&&(h=xo(u,a.getCurrentData().eventUiBases,f,a),v.mutatedEvents=h,vd(v,i.dateProfile,a)||(m=!0,f=null,h=null,v.mutatedEvents=null)),h?a.dispatch({type:"SET_EVENT_RESIZE",state:v}):a.dispatch({type:"UNSET_EVENT_RESIZE"}),m?vo():yo(),o||(f&&Cs(c,i)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=h)},this.handleDragEnd=i=>{let{context:o}=this.component,l=this.eventRange.def,a=this.eventRange.instance,u=new ie(o,l,a),c=this.relevantEvents,d=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:i.origEvent,view:o.viewApi}),this.validMutation){let f=new ie(o,d.defs[l.defId],a?d.instances[a.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:d});let h={oldEvent:u,event:f,relatedEvents:zt(d,o,a),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:c})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},h),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Y(0),endDelta:this.validMutation.endDelta||Y(0),jsEvent:i.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",h)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new or(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let s=this.hitDragging=new Ss(this.dragging,Io(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ve(e.subjectEl,".fc-event")}}function Yw(t,e,n,r){let s=t.context.dateEnv,i=t.dateSpan.range.start,o=e.dateSpan.range.start,l=ln(i,o,s,t.largeUnit);if(n){if(s.add(r.start,l)<r.end)return{startDelta:l}}else if(s.add(r.end,l)>r.start)return{endDelta:l};return null}class Qw{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let s=this.context.options.unselectCancel,i=Nu(r.origEvent);this.matchesCancel=!!ve(i,s),this.matchesEvent=!!ve(i,lr.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:s}=this,{documentPointer:i}=this,o=s.getCurrentData();if(!i.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let l=s.options.unselectAuto;l&&(!l||!this.matchesCancel)&&s.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new Md(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Kw={fixedMirrorParent:b},Zw={dateClick:b,eventDragStart:b,eventDragStop:b,eventDrop:b,eventResizeStart:b,eventResizeStop:b,eventResize:b,drop:b,eventReceive:b,eventLeave:b};jo.dataAttrPrefix="";var Jw=Ct({name:"@fullcalendar/interaction",componentInteractions:[Fw,$w,lr,qw],calendarInteractions:[Qw],elementDraggingImpl:or,optionRefiners:Kw,listenerRefiners:Zw});class Xw extends Xt{constructor(){super(...arguments),this.headerElRef=rt()}renderSimpleLayout(e,n){let{props:r,context:s}=this,i=[],o=Fa(s.options);return e&&i.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),_(ka,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},_(wd,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,n,r,s){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:o,context:l}=this,a=!o.forPrint&&Fa(l.options),u=!o.forPrint&&Vb(l.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:a,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:$b}]}),_(ka,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},_(i,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:s}]}],sections:c}))}}function Tr(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function kr(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function Za(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const Hd=fe({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Ud(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class Bd extends le{render(){let{props:e}=this;return _(Wb,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Hd,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Fd extends le{render(){let{props:e,context:n}=this,{options:r}=n,{seg:s}=e,i=r.eventTimeFormat||Hd,o=id(s,i,n,!0,e.defaultDisplayEventEnd);return _(Ho,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:od(e.seg,n),defaultGenerator:eE,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function eE(t){return _(ae,null,_("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&_("div",{className:"fc-event-time"},t.timeText),_("div",{className:"fc-event-title"},t.event.title||_(ae,null," ")))}class tE extends le{constructor(){super(...arguments),this.compileSegs=Q(nE)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return _(n_,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return _(ae,null,n.map(i=>{let o=i.eventRange.instance.instanceId;return _("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:s[o]?"hidden":""}},Ud(i)?_(Fd,Object.assign({seg:i,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Vn(i,e.todayRange))):_(Bd,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Vn(i,e.todayRange))))}))}})}}function nE(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const rE=fe({week:"narrow"});class sE extends Xt{constructor(){super(...arguments),this.rootElRef=rt(),this.state={dayNumberId:bs()},this.handleRootEl=e=>{st(this.rootElRef,e),st(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:s}=this,{options:i,dateEnv:o}=e,{date:l,dateProfile:a}=n;const u=n.showDayNumber&&oE(l,a.currentRange,o);return _(Ed,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:iE,date:l,dateProfile:a,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(c,d)=>_("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&_(Jb,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Li(e,l,"week"),date:l,defaultFormat:rE}),!d.isDisabled&&(n.showDayNumber||Ad(i)||n.forceDayTop)?_("div",{className:"fc-daygrid-day-top"},_(c,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Li(e,l)),{id:r.dayNumberId})})):n.showDayNumber?_("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},_("a",{className:"fc-daygrid-day-number"}," ")):void 0,_("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,_("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},_(tE,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:s,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),_("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function iE(t){return t.dayNumberText||_(ae,null," ")}function oE(t,e,n){const{start:r,end:s}=e,i=Et(s,-1),o=n.getYear(r),l=n.getMonth(r),a=n.getYear(i),u=n.getMonth(i);return!(o===a&&l===u)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<s.valueOf())}function $d(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function Vd(t){return $d(t)+":"+t.lastCol}function lE(t,e,n,r,s,i,o){let l=new uE(w=>{let D=t[w.index].eventRange.instance.instanceId+":"+w.span.start+":"+(w.span.end-1);return s[D]||1});l.allowReslicing=!0,l.strictOrder=r,e===!0||n===!0?(l.maxCoord=i,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let a=[],u=[];for(let w=0;w<t.length;w+=1){let D=t[w],k=Vd(D);s[k]!=null?a.push({index:w,span:{start:D.firstCol,end:D.lastCol+1}}):u.push(D)}let c=l.addSegs(a),d=l.toRects(),{singleColPlacements:f,multiColPlacements:h,leftoverMargins:m}=aE(d,t,o),v=[],y=[];for(let w of u){h[w.firstCol].push({seg:w,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let D=w.firstCol;D<=w.lastCol;D+=1)f[D].push({seg:gn(w,D,D+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)v.push(0);for(let w of c){let D=t[w.index],k=w.span;h[k.start].push({seg:gn(D,k.start,k.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let O=k.start;O<k.end;O+=1)v[O]+=1,f[O].push({seg:gn(D,O,O+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)y.push(m[w]);return{singleColPlacements:f,multiColPlacements:h,moreCnts:v,moreMarginTops:y}}function aE(t,e,n){let r=cE(t,n.length),s=[],i=[],o=[];for(let l=0;l<n.length;l+=1){let a=r[l],u=[],c=0,d=0;for(let h of a){let m=e[h.index];u.push({seg:gn(m,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-c}),c=h.levelCoord+h.thickness}let f=[];c=0,d=0;for(let h of a){let m=e[h.index],v=h.span.end-h.span.start>1,y=h.span.start===l;d+=h.levelCoord-c,c=h.levelCoord+h.thickness,v?(d+=h.thickness,y&&f.push({seg:gn(m,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):y&&(f.push({seg:gn(m,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:d}),d=0)}s.push(u),i.push(f),o.push(d)}return{singleColPlacements:s,multiColPlacements:i,leftoverMargins:o}}function cE(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let s=r.span.start;s<r.span.end;s+=1)n[s].push(r);return n}function gn(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let s=t.eventRange,i=s.range,o=_n(i,{start:r[e].date,end:ye(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:o},isStart:t.isStart&&o.start.valueOf()===i.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===i.end.valueOf()})}class uE extends pb{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,s=i=>!this.forceHidden[zn(i)];for(let i=0;i<r.length;i+=1)r[i]=r[i].filter(s);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:s,forceHidden:i}=this,{touchingEntry:o,touchingLevel:l,touchingLateral:a}=e;if(this.hiddenConsumes&&o){const u=zn(o);if(!i[u])if(this.allowReslicing){const c=Object.assign(Object.assign({},o),{span:gd(o.span,n.span)}),d=zn(c);i[d]=!0,s[l][a]=c,r.push(c),this.splitEntry(o,n,r)}else i[u]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class zd extends Xt{constructor(){super(...arguments),this.cellElRefs=new Ft,this.frameElRefs=new Ft,this.fgElRefs=new Ft,this.segHarnessRefs=new Ft,this.rootElRef=rt(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:s}=r,i=e.cells.length,o=kr(e.businessHourSegs,i),l=kr(e.bgEventSegs,i),a=kr(this.getHighlightSegs(),i),u=kr(this.getMirrorSegs(),i),{singleColPlacements:c,multiColPlacements:d,moreCnts:f,moreMarginTops:h}=lE(Py(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),m=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return _("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((v,y)=>{let w=this.renderFgSegs(y,e.forPrint?c[y]:d[y],e.todayRange,m),D=this.renderFgSegs(y,dE(u[y],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return _(sE,{key:v.key,elRef:this.cellElRefs.createRef(v.key),innerElRef:this.frameElRefs.createRef(v.key),dateProfile:e.dateProfile,date:v.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&y===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:v.extraRenderProps,extraDataAttrs:v.extraDataAttrs,extraClassNames:v.extraClassNames,extraDateSpan:v.extraDateSpan,moreCnt:f[y],moreMarginTop:h[y],singlePlacements:c[y],fgContentElRef:this.fgElRefs.createRef(v.key),fgContent:_(ae,null,_(ae,null,w),_(ae,null,D)),bgContent:_(ae,null,this.renderFillSegs(a[y],"highlight"),this.renderFillSegs(o[y],"non-business"),this.renderFillSegs(l[y],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!Je(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,s,i,o,l){let{context:a}=this,{eventSelection:u}=this.props,{framePositions:c}=this.state,d=this.props.cells.length===1,f=i||o||l,h=[];if(c)for(let m of n){let{seg:v}=m,{instanceId:y}=v.eventRange.instance,w=m.isVisible&&!s[y],D=m.isAbsolute,k="",O="";D&&(a.isRtl?(O=0,k=c.lefts[v.lastCol]-c.lefts[v.firstCol]):(k=0,O=c.rights[v.firstCol]-c.rights[v.lastCol])),h.push(_("div",{className:"fc-daygrid-event-harness"+(D?" fc-daygrid-event-harness-abs":""),key:$d(v),ref:f?null:this.segHarnessRefs.createRef(Vd(v)),style:{visibility:w?"":"hidden",marginTop:D?"":m.marginTop,top:D?m.absoluteTop:"",left:k,right:O}},Ud(v)?_(Fd,Object.assign({seg:v,isDragging:i,isSelected:y===u,defaultDisplayEventEnd:d},Vn(v,r))):_(Bd,Object.assign({seg:v,isDragging:i,isResizing:o,isDateSelecting:l,isSelected:y===u,defaultDisplayEventEnd:d},Vn(v,r)))))}return h}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:s}=this.props,{framePositions:i}=this.state,o=[];if(i)for(let l of e){let a=r?{right:0,left:i.lefts[l.lastCol]-i.lefts[l.firstCol]}:{left:0,right:i.rights[l.firstCol]-i.rights[l.lastCol]};o.push(_("div",{key:By(l.eventRange),className:"fc-daygrid-bg-harness",style:a},n==="bg-event"?_(Qb,Object.assign({seg:l},Vn(l,s))):Zb(n)))}return _(ae,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:s}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let a=n.cells.map(u=>s.currentMap[u.key]);if(a.length){let u=this.rootElRef.current,c=new is(u,a,!0,!1);(!r.framePositions||!r.framePositions.similarTo(c))&&this.setState({framePositions:new is(u,a,!0,!1)})}}const i=this.state.segHeights,o=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),o),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let s=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,s)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}zd.addStateEquality({segHeights:Je});function dE(t,e){if(!t.length)return[];let n=fE(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function fE(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class hE extends Xt{constructor(){super(...arguments),this.splitBusinessHourSegs=Q(Tr),this.splitBgEventSegs=Q(Tr),this.splitFgEventSegs=Q(Tr),this.splitDateSelectionSegs=Q(Tr),this.splitEventDrag=Q(Za),this.splitEventResize=Q(Za),this.rowRefs=new Ft}render(){let{props:e,context:n}=this,r=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,r),i=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),l=this.splitDateSelectionSegs(e.dateSelectionSegs,r),a=this.splitEventDrag(e.eventDrag,r),u=this.splitEventResize(e.eventResize,r),c=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return _(Lo,{unit:"day"},(d,f)=>_(ae,null,e.cells.map((h,m)=>_(zd,{ref:this.rowRefs.createRef(m),key:h.length?h[0].date.toISOString():m,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:h,renderIntro:e.renderRowIntro,businessHourSegs:s[m],eventSelection:e.eventSelection,bgEventSegs:i[m].filter(gE),fgEventSegs:o[m],dateSelectionSegs:l[m],eventDrag:a[m],eventResize:u[m],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new is(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new is(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:s}=this,i=r.leftToIndex(e),o=s.topToIndex(n);if(o!=null&&i!=null){let l=this.props.cells[o][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,i),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(o,i),rect:{left:r.lefts[i],right:r.rights[i],top:s.tops[o],bottom:s.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,s=ye(r,1);return{start:r,end:s}}}function gE(t){return t.eventRange.def.allDay}class pE extends Xt{constructor(){super(...arguments),this.elRef=rt(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:s}=e,i=r===!0||n===!0;i&&!s&&(i=!1,n=null,r=null);let o=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return _("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},_("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,_("tbody",{role:"presentation"},_(hE,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=mE(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),s=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function mE(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${_v(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${bo(e.currentDate)}"]`)),n}class vE extends Cb{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class yE extends Xt{constructor(){super(...arguments),this.slicer=new vE,this.tableRef=rt()}render(){let{props:e,context:n}=this;return _(pE,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class bE extends Xw{constructor(){super(...arguments),this.buildDayTableModel=Q(_E),this.headerRef=rt(),this.tableRef=rt()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,s=this.buildDayTableModel(r.dateProfile,n),i=e.dayHeaders&&_(wb,{ref:this.headerRef,dateProfile:r.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),o=l=>_(yE,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:s,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,o,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,o)}}function _E(t,e){let n=new Ab(t.renderRange,e);return new Sb(n,/year|month|week/.test(t.currentRangeUnit))}class wE extends Yu{buildRenderRange(e,n,r){let s=super.buildRenderRange(e,n,r),{props:i}=this;return EE({currentRange:s,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function EE(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:s}=n,i;if(t.snapToWeek&&(r=e.startOfWeek(r),i=e.startOfWeek(s),i.valueOf()!==s.valueOf()&&(s=_a(i,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(ye(n.end,-1))),l=Math.ceil(av(o,s));s=_a(s,6-l)}return{start:r,end:s}}var AE=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';xu(AE);var SE=Ct({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:bE,dateProfileGeneratorClass:wE},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});const CE={key:0,class:"booking--confirmation"},DE={key:1,class:"booking-container"},RE={key:0,class:"booking-form"},TE=J("h2",null,"Book A Place",-1),kE={class:"booking-form__data"},OE={style:{"text-decoration":"underline"}},xE={style:{"text-decoration":"underline"}},IE=J("p",null,"Please, complete the form:",-1),ME={key:0,class:"booking-form__places"},PE=["value","disabled"],NE={for:"name"},jE=J("span",null,[Ze("First Name"),J("span",{style:{color:"red"}},"*"),Ze(":")],-1),LE={for:"email"},HE=J("span",null,[Ze("Email"),J("span",{style:{color:"red"}},"*"),Ze(":")],-1),UE={key:0,class:"note"},BE=["disabled"],FE={key:1,class:"warning"},$E=J("p",null,"Sorry, all places are booked for the selected date. Please, select another date.",-1),VE=[$E],zE="https://shczxxeiddfcjlgntslu.supabase.co",WE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoY3p4eGVpZGRmY2psZ250c2x1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTY5NjU1MTAsImV4cCI6MjAzMjU0MTUxMH0.cjkAna7F_3vPomQ8eymxgpFdeGHizmeTyWQ88BnfRR8",GE={__name:"App",setup(t){const e=hm(zE,WE),n=new Date,r=new Date(Date.now()+14*24*60*60*1e3),s=qe(!1),i=qe(""),o=qe(""),l=qe(!1),a=qe(""),u=qe([]),c=qe(null),d={name:"Total Onion Farringdon",places:{withScreen:{title:"Place with screen",amount:4},withoutScreen:{title:"Place without screen",amount:1}},address:"",note:"Be aware that office doesn't have a cleaner, so please keep it clean and tidy. And don't forget to close windows.<br />Fridge drinks - please drink them."},f=qe([]),h=()=>{i.value="",o.value="",a.value="",s.value=!1,l.value=!1,y()},m=wi(()=>(console.log(i.value,o.value,a.value,s.value),i.value===""||o.value===""||a.value===""||!s.value?(console.log("Some fields missing"),!1):!0)),v=wi(()=>s.value?f.value.withScreen.amount+f.value.withoutScreen.amount:!1);async function y(){try{const{data:j,error:I}=await e.from("Bookings").select("*").lt("date",Il(r)).gte("date",Il(n));if(I&&status!==406)throw I;u.value=[];let H=c.value.getApi();j.forEach(N=>{H.addEvent({title:N.name+" - "+N.place,defaultAllDay:!0,allDay:!0,stick:!0,backgroundColor:"green",start:N.date}),u.value.push({title:N.name+" - "+N.place,defaultAllDay:!0,allDay:!0,stick:!0,backgroundColor:"green",start:N.date,place:N.place})})}catch(j){alert(j.message)}}const w=()=>{const j=JSON.parse(JSON.stringify(d.places));u.value.forEach(I=>{I.start.split("T")[0]===s.value&&j[I.place]&&(j[I.place].amount-=1)}),f.value=j};y();const D=j=>{s.value=j.startStr,w()};async function k(){try{const{data:j,error:I,status:H}=await e.from("Bookings").insert({name:i.value,email:o.value,date:s.value,place:a.value,office:1}).select();if(I&&H!==406)throw I;c.value.getApi().addEvent({title:j[0].name+" - "+j[0].place,defaultAllDay:!0,allDay:!0,stick:!0,backgroundColor:"green",start:j[0].date}),l.value=!0}catch{}}const O=qe({plugins:[SE,Jw],initialView:"dayGridWeek",weekends:!1,selectable:!0,select:D,validRange:{start:n,end:r},events:u.value});return(j,I)=>(Ne(),We(Ie,null,[J("header",null,[J("h1",null,"Welcome to "+et(d.name)+" booking system",1)]),J("main",null,[l.value?(Ne(),We("div",CE,[J("h2",null,et(i.value)+", thank you!",1),J("p",null,"Your booking for "+et(d.name)+" "+et(s.value)+" is completed.",1),J("button",{onClick:kl(h,["prevent"])},"Make another booking")])):js("",!0),l.value?js("",!0):(Ne(),We("div",DE,[Ae(Sc(Cw),{ref_key:"fullCalendarItem",ref:c,options:O.value},null,8,["options"]),s.value?(Ne(),We("div",RE,[TE,J("div",kE,[J("p",null,[Ze("Date selected: "),J("span",OE,et(s.value),1),Ze(". ")]),J("p",null,[Ze("Venue: "),J("span",xE,et(d.name),1),Ze(". ")]),IE]),v.value>0?(Ne(),We("div",ME,[(Ne(!0),We(Ie,null,uh(f.value,(H,N,ue)=>(Ne(),We("div",{key:ue},[J("label",null,[Is((Ne(),We("input",{type:"radio",name:"selectedplace",key:ue,value:N,"onUpdate:modelValue":I[0]||(I[0]=ge=>a.value=ge),disabled:H.amount<=0},null,8,PE)),[[pg,a.value]]),Ze(" "+et(H.title)+" (availability: "+et(H.amount)+") ",1)])]))),128)),J("label",NE,[jE,Is(J("input",{type:"text",placeholder:"Your first name",id:"name","onUpdate:modelValue":I[1]||(I[1]=H=>i.value=H),required:""},null,512),[[Tl,i.value]])]),J("label",LE,[HE,Is(J("input",{type:"email",placeholder:"Your Email",id:"email","onUpdate:modelValue":I[2]||(I[2]=H=>o.value=H),required:""},null,512),[[Tl,o.value]])]),(Ne(),We("div",UE,[J("p",null,et(d.note),1)])),J("button",{class:"button",onClick:kl(k,["prevent"]),disabled:!m.value},"BOOK",8,BE)])):(Ne(),We("div",FE,VE))])):js("",!0)]))])],64))}},Wd=wg(GE);Wd.use(Dg());Wd.mount("#app");
